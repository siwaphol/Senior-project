(function(a,b){a.facebook_activity_queue=[];a.setup_fbconnect_interaction=function(){function c(b){var c=b.ppt_url||location_without_params(),d={};switch(b.name){case "view":case "favorite":d.presentation=c;break;case "download":b=getUrlVar("s_title");c=getUrlVar("user_login");d.presentation="http://www.slideshare.net/"+c+"/"+b;break;case "comment":d.presentation=c;d.message=b.message;break;case "follow":d.profile=b.facebook_user_id;break;default:error("Unknown action: "+b.name)}d.access_token=a.user.fb_access_token;
return d}function d(a,c){var d=escape(window.location.href),e=window.fromSource,f=window.fromType||getUrlVar("from");if(window.location.pathname.startsWith("/upload")&&(1===a.status||2===a.status||3===a.status))_gaq.push(["_trackEvent","Upload","fb_login_successful"]),d=d.replace("loggedout_","loggedin_loggedout_");switch(a.status){case 1:_gaq.push(["_trackEvent","Signup","fb_login","fb_signup_from_"+c]);"undefined"!=typeof e?window.location.replace("/fbconnect/landingpage?from="+e):window.location.replace("/fbconnect/landingpage?from="+
d);break;case 2:"undefined"!=typeof e?window.location.replace("/fbconnect/landingpage?from="+e):window.location.replace("/fbconnect/landingpage?from="+d);break;case 3:_gaq.push(["_trackEvent","Login","fb_login","fb_login_from_"+c]);if(void 0!==getUrlVars().from_logout&&"undefined"==typeof f)window.location.replace("/?ss");else{if(window.location.pathname.startsWith("/upload"))return window.location.replace(window.location.href.replace("loggedout_","loggedin_loggedout_")),!1;e&&1<e.length&&isInternalRedirect(e)?
(window.location.href=decodeURIComponent(e),b(window).trigger("submitPaymentForm")):window.location.reload()}break;case 4:b("#login_modal").modal("hide");b("#page-error span").html("Login unsuccessful. Please try again.");b("#page-error").show();break;case 5:b("#login_modal").modal("hide");b("#page-error span").html("Login unsuccessful. Your account has been suspended as it was found to be in violation of SlideShare's Terms of Service and/or Community Guidelines. Please read the <a href='http://help.slideshare.com/entries/22330620-Why-was-my-slideshare-account-suspended-' target='_blank' class='blue_link_bold'>Suspended Users FAQ</a> to resolve this issue.");
b("#page-error").show();break;default:window.location.reload()}}function e(){window.location.reload()}function f(){if(!window.localStorage)return!0;try{var a=Number(window.localStorage.fbErrorDismissals)||0;if(0===a)return!1;if(a>=g.MAX_NUMBER_OF_DISMISSALS)return!0;var b=window.localStorage.fbErrorLastDismissal||(new Date).getTime(),c=(new Date).getTime();return Math.ceil((c-b)/864E5)<=g.DAYS_UNTIL_NEXT_NOTICE}catch(d){return!0}}var g={DAYS_UNTIL_NEXT_NOTICE:3,MAX_NUMBER_OF_DISMISSALS:2};if(!slideshare_object.user.loggedin)b("body").on("click",
"#fb-login-modalbox",function(){window.fromSource=window.fromSource||getUrlVar("from_source");b("#j-fb-modalbox-indicator").show();var a=slideshare_object.fbconnect.basic_perms;"undefined"!==typeof thisLink&&is_abbr(thisLink)&&(a=slideshare_object.fbconnect.download_perms);slideshare_object.unsubscribeFBStatusChange();window.FB&&FB.login(function(a){a?a.authResponse?"undefined"!=typeof thisLink&&is_abbr(thisLink)?slideshare_object.fbConnect("/fbconnect/create_account_or_login?from_page=download",
{access_token:a.authResponse.accessToken,fb_user_id:a.authResponse.userID,login_source:window.loginSource},function(a){d(a,"fancybox")}):slideshare_object.fbConnect("/fbconnect/create_account_or_login",{access_token:a.authResponse.accessToken,fb_user_id:a.authResponse.userID,login_source:window.loginSource},function(a){d(a,"fancybox")}):b("#j-fb-modalbox-indicator").hide():b("#j-fb-modalbox-indicator").hide()},a)});a.pushPendingFBactivities=function(){for(var a=slideshare_object.facebook_activity_queue;a.length;){var b=
a.pop();slideshare_object.push_activity_to_facebook(b.action,b.callback)}};a.post_activity_to_facebook=function(b,c){!a.user.is_opengraph_user||!a.user.opengraph_permissions[b.name]||!a.user.fb_access_token?c():window.FB?a.push_activity_to_facebook(b,c):a.facebook_activity_queue.push({action:b,callback:c})};a.push_activity_to_facebook=function(d,e){var f;f=d.name;f="follow"===f?"/me/og.follows":"/me/"+a.fb_app_name+":"+f;"view"===d.name&&(b(".fb-msg").addClass("hide"),b(".fb-activity-ss, .fb-activity-ss .progress").removeClass("hide"));
FB.api(f,"post",c(d),function(a){a&&a.error&&(200===a.error.code?b.post("/fbconnect/remove_publish_perms"):190===a.error.code&&b.post("/fbconnect/invalidate_access_token"),slideshare_object.ga("fb_opengraph_error",a.error.type+"-"+a.error.code,a.error.message,slideshare_object.user.id));e(a)});f=d.name;var g=getUrlVar("fb_source");getUrlVar("code")||g?g?slideshare_object.ga("fb_opengraph","publish_action","from_facebook_"+f+"_"+g):slideshare_object.ga("fb_opengraph","publish_action","from_facebook_"+
f):slideshare_object.ga("fb_opengraph","publish_action",f)};a.remove_activity_from_facebook=function(a,c){b(".fb-msg").addClass("hide");b(".fb-activity-ss .progress").removeClass("hide");FB.api("/"+a,"delete",{access_token:slideshare_object.user.fb_access_token},c)};b(document).ready(function(){_gaq.push(["_setAccount","UA-2330466-1"]);_gaq.push(["_setDomainName",".slideshare.net"]);_gaq.push(["_addIgnoredRef","slideshare.net"]);b(document).bind("fbinitialized",function(){b("#fb-login").removeClass("disabled")});
b("#j-delink-fb").on("click",function(a){a.preventDefault();b.post("/fbconnect/delink_facebook_profile",{},e,"json")});if((slideshare_object.isHomePage()||slideshare_object.isSlideViewPage())&&!slideshare_object.is_mobile&&slideshare_object.user&&slideshare_object.user.is_opengraph_user&&!slideshare_object.user.fb_access_token&&!f()){var a=b("#page-notice");a.removeClass("alert").addClass("notification").find("span").html("Your facebook connection has expired. <a href='#' id='fb-reconnect'>Click here to connect and continue sharing.</a>");
a.find(".closeThis").addClass("fb-notification-close");a.slideDown("slow");slideshare_object.ga("fb_opengraph","reconnect-notice","displayed");b(".fb-notification-close").click(function(){if(window.localStorage)try{window.localStorage.fbErrorDismissals=String((Number(window.localStorage.fbErrorDismissals)||0)+1),window.localStorage.fbErrorLastDismissal=(new Date).getTime()}catch(a){}slideshare_object.ga("fb_opengraph","reconnect-notice","cancelled")})}b("#fb-reconnect").click(function(a){a.preventDefault();
slideshare_object.user.loggedin&&(slideshare_object.user.is_opengraph_user&&!slideshare_object.user.fb_access_token)&&(a=slideshare_object.fbconnect.download_perms,a.return_scopes=!0,slideshare_object.unsubscribeFBStatusChange(),window.FB&&FB.login(function(a){a&&a.authResponse&&b.post("/fbconnect/link_facebook_profile",{access_token:a.authResponse.accessToken,fb_user_id:a.authResponse.userID,granted_perms:a.authResponse.grantedScopes},function(a){3===a.status?b("#page-error").append("This Facebook login is already being used with another SlideShare account. Try again using another account.").show():
window.location.reload()},"json")},a),slideshare_object.ga("fb_opengraph","reconnect-notice","connected"))});b("#fb-login").click(function(a){b(this).hasClass("disabled")||(a.preventDefault(),window.fromSource=getUrlVar("from_source")||encodeURIComponent("/?ss"),b("#j-fb-login-indicator").show(),b(this).hasClass("fb-login-new")||b(this).html("Connecting...").addClass("disabled"),a=slideshare_object.fbconnect.basic_perms,slideshare_object.user.loggedin&&(a=slideshare_object.fbconnect.download_perms),
a.return_scopes=!0,slideshare_object.unsubscribeFBStatusChange(),window.FB&&FB.login(function(a){a?a.authResponse?slideshare_object.user.loggedin?(!slideshare_object.user.is_fbuser||!slideshare_object.user.is_opengraph_user||!slideshare_object.user.fb_access_token)&&b.post("/fbconnect/link_facebook_profile",{access_token:a.authResponse.accessToken,fb_user_id:a.authResponse.userID,granted_perms:a.authResponse.grantedScopes},function(a){b("#j-fb-topnav-indicator").hide();b("#j-fb-login-indicator").hide();
switch(a.status){case 1:window.location.reload();break;case 3:b("#page-error").append("We could not connect your SlideShare account to Facebook. This Facebook login is already being used with another SlideShare account.").show();break;case 4:b("#page-error").append("We could not connect your SlideShare account to Facebook. Sharing on SlideShare is better when you allow us to post to Facebook.").show();b("#fb-login")&&b("#fb-login").html("<strong>Connect</strong>").removeClass("disabled");break;default:b("#page-error").append("There was an error.").show()}},
"json"):b.post("/fbconnect/fb_login",{},function(){slideshare_object.fbConnect("/fbconnect/create_account_or_login",{access_token:a.authResponse.accessToken,fb_user_id:a.authResponse.userID,login_source:window.loginSource,granted_perms:a.authResponse.grantedScopes},function(a){d(a,"login")})},"json"):b("#j-fb-login-indicator").hide():b("#j-fb-login-indicator").hide()},a))})})};a.setup_opengraph_interaction=function(){b(".player").bind("fb-view-published",function(c,d){b(".fb-activity-ss .progress").addClass("hide");
a.slideshow.view_action_state="published";b(".fb-removed").addClass("hide");b(".fb-viewed").removeClass("hide");a.slideshow.view_action_id=d;"true"!==cookie("og_notified")&&b(".fb-viewed").popover({placement:"top",html:!0,trigger:"manual"}).popover("show")});b(".player").bind("fb-view-failed",function(a,d){slideshare_object.ga("fb_opengraph","view-publish-failed",d.id,d.message);slideshare_object.slideshow.view_action_state="failed";b(".fb-activity-ss .progress").addClass("hide")});b(".player").bind("fb-favorite-failed",
function(a,b){slideshare_object.ga("fb_opengraph","favorite-publish-failed",b.id||b.type,b.message)});b("#j-popover-okay").on("click",function(a){a.preventDefault();cookie("og_notified",!0,{path:"/",expires:365});b(".fb-viewed").popover("hide")});b(".fb-viewed").on("click",function(c){c.preventDefault();"published"==a.slideshow.view_action_state&&(null!==a.slideshow.view_action_id||void 0!==a.slideshow.view_action_id)&&a.remove_activity_from_facebook(a.slideshow.view_action_id,function(a){a&&!a.error&&
(b(".fb-activity-ss .progress").addClass("hide"),b(".player").trigger("fb-view-removed"))})});b(".player").bind("fb-view-removed",function(){b(".fb-activity-ss .progress").addClass("hide");a.slideshow.view_action_state="removed";a.slideshow.view_action_id=null;b(".fb-viewed").addClass("hide");b(".fb-removed").removeClass("hide");slideshare_object.ga("fb_opengraph","fb-view-removed")});b(".fb-removed").on("click",function(c){c.preventDefault();a.post_activity_to_facebook({name:"view"},function(a){void 0!==
a&&a.id&&b(".player").trigger("fb-view-published",a.id)})})}})(slideshare_object,jQuery);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function b(b,f){function g(a,b,c,d,e){b="translateX("+b+"px) rotateY("+c+"deg)";0!=d&&(b+=" translateZ("+d+"px)");a.css({"-webkit-transform":b,"-ms-transform":b,transform:b,"z-index":e})}function h(b){j.moveToIndex(a(b.currentTarget).attr("data-index"))}function k(a){var a=Math.min(j.trackDifference,Math.max(0,j.thumbPosition+(a.pageX-j.mousePosition))),b=
Math.ceil(a/j.trackDifference*j.count);0===b&&(b=1);j.moveToIndex(b,!0);q.css("left",a)}function l(){a("body").removeClass("noSelect");a(document).unbind("mousemove",k);a(document).unbind("mouseup",l);q.unbind("mouseup",l);n()}function n(){q.stop().animate({left:(j.current-1)/(j.count-1)*j.trackDifference},250)}this.options=a.extend({},d,f);this._defaults=d;this._name=c;var j=this,r=b.find(".scrollbar"),t=r.find(".track"),q=r.find(".thumb"),s=b.find(".flow").children();this.partialWheel=this.loaded=
this.current=this.lastMoved=this.mousePosition=this.count=this.thumbPosition=this.trackDifference=this.thumbSize=this.trackSize=0;j.getIndex=function(){return this.current};j.moveToIndex=function(c,d){if(c&&!(0>=c||c>j.count||c===j.current)&&!(50>(new Date).getTime()-this.lastMoved)){this.lastMoved=(new Date).getTime();a(".highlight").removeClass("highlight");j.current=c;c--;if(j.options.lazy_load&&j.loaded<j.count){for(var f=Math.min(j.count,c+j.options.lazy_load_count),h=j.loaded;h<f;h++){var k=
a(s[h]).find("img");k.attr("src",k.attr("data-normal"))}j.loaded<f&&(j.loaded=f)}var l=Math.floor(c-j.count/2+1)*(j.trackSize/j.count/3);s.each(function(b){if(b<c){var d=-1*j.options.center_margin+j.options.gap*Math.floor(b-c+1)+l;g(a(this),d,60,0,b-c)}else b>c?(d=j.options.center_margin+j.options.gap*Math.floor(b-c-1)+l,g(a(this),d,-60,0,c-b)):(d=l-(j.options.center_margin-j.options.gap)*Math.floor(c-j.count/2+1)/j.count,g(a(this),d,0,200,0),a(this).addClass("highlight"))});b.attr("current-index",
j.current);"function"==typeof j.options.move_callback&&j.options.move_callback(j.current);d||n()}};j.count=s.length;j.trackSize=t.width();j.thumbSize=j.trackSize/j.count;20>j.thumbSize&&(j.thumbSize=20);j.trackDifference=j.trackSize-j.thumbSize;1<j.count?q.width(j.thumbSize):r.hide();b.find(".container").css("-webkit-perspective",j.options.zoom);b.find(".container").css("-ms-perspective",j.options.zoom);b.find(".container").css("perspective",j.options.zoom);s.each(function(b){var c=j.options.init_position+
j.options.gap*b;g(a(this),c,-60,0,j.count-b)});j.moveToIndex(1);s.each(function(){a(this).on("click",h)});b.on("mousewheel",function(a){a.preventDefault();a.stopPropagation();a=Math.round(a.originalEvent.wheelDelta/3)/40;if(a!=Math.round(a)){j.partialWheel+=a/3;if(1>j.partialWheel&&-1<j.partialWheel)return;a=Math.round(j.partialWheel);j.partialWheel=0}a?j.moveToIndex(j.current-a):j.moveToIndex(j.current+a)});q.bind("mousedown",function(b){a("body").addClass("noSelect");j.mousePosition=b.pageX;j.thumbPosition=
parseInt(q.css("left"),10)||0;a(document).bind("mousemove",k);a(document).bind("mouseup",l);q.bind("mouseup",l)});t.bind("mousedown",k);return j}var c="flow",d={gap:50,center_margin:100,init_position:200,zoom:700,lazy_load:!0,lazy_load_count:6,move_callback:null};a.fn[c]=function(d){return this.each(function(){if(!a.data(this,c)){var f=a.data(this,c,new b(a(this),d));a(this).data(c,f)}})}});
(function(a){a.fn.lazyload=function(b){var c={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};b&&a.extend(c,b);var d=this;"scroll"==c.event&&a(c.container).bind("scroll",function(){var b=0;d.each(function(){if(!a.abovethetop(this,c)&&!a.leftofbegin(this,c))if(!a.belowthefold(this,c)&&!a.rightoffold(this,c))a(this).trigger("appear");else if(b++>c.failurelimit)return!1});var f=a.grep(d,function(a){return!a.loaded});d=a(f)});this.each(function(){var b=this;void 0==a(b).attr("original")&&
a(b).attr("original",a(b).attr("src"));"scroll"!=c.event||void 0==a(b).attr("src")||c.placeholder==a(b).attr("src")||a.abovethetop(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.rightoffold(b,c)?(c.placeholder?a(b).attr("src",c.placeholder):a(b).removeAttr("src"),b.loaded=!1):b.loaded=!0;a(b).one("appear",function(){this.loaded||a("<img />").bind("load",function(){a(b).hide().attr("src",a(b).attr("original"))[c.effect](c.effectspeed);b.loaded=!0}).attr("src",a(b).attr("original"))});"scroll"!=c.event&&
a(b).bind(c.event,function(){b.loaded||a(b).trigger("appear")})});a(c.container).trigger(c.event);return this};a.belowthefold=function(b,c){return(void 0===c.container||c.container===window?a(window).height()+a(window).scrollTop():a(c.container).offset().top+a(c.container).height())<=a(b).offset().top-c.threshold};a.rightoffold=function(b,c){return(void 0===c.container||c.container===window?a(window).width()+a(window).scrollLeft():a(c.container).offset().left+a(c.container).width())<=a(b).offset().left-
c.threshold};a.abovethetop=function(b,c){return(void 0===c.container||c.container===window?a(window).scrollTop():a(c.container).offset().top)>=a(b).offset().top+c.threshold+a(b).height()};a.leftofbegin=function(b,c){return(void 0===c.container||c.container===window?a(window).scrollLeft():a(c.container).offset().left)>=a(b).offset().left+c.threshold+a(b).width()};a.extend(a.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})",
"right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})})(jQuery);(function(a){for(var b=["Width","Height"],c;c=b.pop();)(function(b,c){a.fn[b]=b in new Image?function(){return this[0][b]}:function(){var a=this[0],b;"img"===a.tagName.toLowerCase()&&(b=new Image,b.src=a.src,b=b[c]);return b}})("natural"+c,c.toLowerCase())})(jQuery);
(function(a){a.fn.rwdImageMaps=function(){var b=this,c=parseFloat(a.fn.jquery);a(window).resize(function(){b.each(function(){if("undefined"!=typeof a(this).attr("usemap")){var b=this,e=a(b);a("<img />").load(function(){var f,g;1.6>c?(f=b.getAttribute("width"),g=b.getAttribute("height")):(f=e.attr("width"),g=e.attr("height"));if(!f||!g){var h=new Image;h.src=e.attr("src");f||(f=h.width);g||(g=h.height)}var k=e.width()/100,l=e.height()/100,h=e.attr("usemap").replace("#","");a('map[name="'+h+'"]').find("area").each(function(){var b=
a(this);b.data("coords")||b.data("coords",b.attr("coords"));for(var c=b.data("coords").split(","),d=Array(c.length),e=0;e<d.length;++e)d[e]=0===e%2?parseInt(100*(c[e]/f)*k):parseInt(100*(c[e]/g)*l);b.attr("coords",d.toString())})}).attr("src",e.attr("src"))}})}).trigger("resize");return this}})(jQuery);function ModalShare(a){(this.config=a)&&this.init()}
ModalShare.prototype.init=function(){this.$container=$(this.config.el);this.$shareBtn=$(this.config.btnShare);this.$shareEmailMsg=this.$container.find(".j-share-email-msg");this.$addMsgButton=this.$container.find(".j-add-msg");this.$emailSentButton=this.$container.find(".j-email-sent");this.$shareEmailSend=this.$container.find("#share-email-send");this.$shareEmailForm=this.$container.find(".j-share-email-form");this.$linkURLInput=this.$container.find(".j-share-link-url");this.$close=this.$container.find(".j-modal-close");
this.$contentWrapper=this.$container.find(".modal-content-wrapper");this.gaTrackCategory=this.$container.data("ga-track-category");this.gaTrackAction=this.$container.data("ga-track-action");this.createShareHash();slideshare_object&&(slideshare_object.user&&!0===slideshare_object.user.loggedin&&null!==slideshare_object.user.login)&&this.$container.find(".j-share-email-name").val(slideshare_object.user.login);this.bindModalToShareButtons();this.bindModalEvents();this.bindCustomModalEvents();this.adjustShareModalTop();
$flow_wrapper=this.$container.find(".j-image-flow-wrapper");if(0<$flow_wrapper.length){var a=$(".slide_container").children().clone();a.each(function(a){$(this).removeClass();$(this).children().each(function(){$(this).removeClass()});$("<p/>",{text:a+1}).appendTo($(this))});a=a.slice(0,-1);$(".flow").append(a);$flow_wrapper.flow({move_callback:function(a){$(".j-share-start-picker").find("option:selected").removeAttr("selected");$($(".j-share-start-picker").find("option")[a-1]).attr("selected","selected");
$($(".j-share-start-picker").find("option")[a-1]).change()}});this.$container.find(".j-share-start-picker").change(function(a){$flow_wrapper.data("flow").moveToIndex(a.currentTarget.selectedIndex+1)})}};ModalShare.prototype.get_viral_share_url=function(a){$elem=$("li."+a+" a");var b=this.data.ssLink;0<$elem.length&&(b=$.param($elem.data()),!b&&(b=this.data.ssLink));return this.SHARE_HASH[a]+b};
ModalShare.prototype.get_viral_share_urls=function(){return{facebook:this.get_viral_share_url("facebook"),linkedin:this.get_viral_share_url("linkedin"),twitter:this.get_viral_share_url("twitter"),wordpress:this.get_viral_share_url("wordpress"),pinterest:this.get_viral_share_url("pinterest")}};
ModalShare.prototype.sharePopup=function(a){var b=this.data.social[a];if(void 0!==b){if("facebook"===a){if(window.FB){this.trackShareClick(a);this.postToFacebook();return}}else if("linkedin"===a&&window.IN&&window.IN.UI){IN.UI.Share().params({url:this.data.ssLink}).place();this.trackShareClick(a);this.saveShare(a);return}window.open(b,"shareDialog","width=626,height=436");this.trackShareClick(a);this.saveShare(a)}};ModalShare.prototype.show=function(){this.reset();this.$container.show();this.shareGATracking("modalOpen")};
ModalShare.prototype.close=function(){};ModalShare.prototype.reset=function(){this.$container.find(".j-embed-use-ssl-cbox").prop("checked",!1);$(".j-modal-popup").scrollTop(0);this.$close.css("top","8px");this.clearEmailFields();this.$shareEmailForm.show();this.$emailSentButton.hide();this.collapseAllSections()};
ModalShare.prototype.updateEmbed=function(){var a=this.$container.find(".j-share-embed-link"),b=a.val(),c=this.$container.find(".j-embed-size-picker").val(),d=this.$container.find(".j-embed-size-picker :selected").data("width")||this.config.embed_sizes.presets[c].size.width,c=this.$container.find(".j-embed-size-picker :selected").data("height")||this.config.embed_sizes.presets[c].size.height,e=b.match(/src="([^"]+)"/)[1].split("?")[0],f=this.$container.find(".j-embed-start-picker").prop("selectedIndex")+
1||1,b=b.replace(/src="[^"]+"/,'src="'+(e+(1<f?"?startSlide="+f:""))+'"'),b=b.replace("http:",""),b=b.replace("https:",""),b=b.replace(/height="\d+"/,'height="'+c+'"'),b=b.replace(/width="\d+"/,'width="'+d+'"');a.val(b);var g=this;this.GAtimeout_embed=null;clearTimeout(this.GAtimeout_embed);this.GAtimeout_embed=setTimeout(function(){g.shareGATracking("share_embed","updateembed")},2E3)};ModalShare.prototype.clearEmailErrorAlerts=function(){$(".error").removeClass("error")};
ModalShare.prototype.clearEmailFields=function(){this.$container.find(".j-email-clear").val("");this.$shareEmailSend.prop("disabled",!1);this.clearEmailErrorAlerts()};
ModalShare.prototype.sendShareEmail=function(){this.shareGATracking("share_email","send");var a=this,b=this.$container.find(".j-share-email-to").val(),c=this.$container.find(".j-share-email-name").val(),d=this.$shareEmailMsg.val(),e=!1;a.$shareEmailSend.val("");a.$shareEmailSend.addClass("sending");a.$shareEmailSend.prop("disabled",!0);a.clearEmailErrorAlerts();e||(e=!0,$.post("/list/email_share",{data:{id:this.data.ssId,name:c,recipients:b,msg:d},dataType:"json"}).done(function(b){if(0===b.respCode)a.clearEmailFields(),
a.$shareEmailForm.slideUp(400),a.collapseAllSections(),a.$container.find("#email-sent").slideDown(400),setTimeout(function(){a.$container.find("#email-sent").slideUp(400);a.$shareEmailForm.slideDown(400)},2E3),a.$contentWrapper.removeClass("email-expanded");else{var c=a.$container.find(".j-email-flash");c.text(b.resp).show();switch(b.respCode){case 1:a.$container.find(".j-share-email-to").addClass("error");break;case 2:a.$container.find(".j-share-email-name").addClass("error")}setTimeout(function(){c.fadeOut(400)},
5E3)}e=!1;a.$shareEmailSend.val("Send");a.$shareEmailSend.removeClass("sending");a.$shareEmailSend.prop("disabled",!1)}).fail(function(){e=!1;a.$shareEmailSend.val("Send");a.$shareEmailSend.removeClass("sending");a.$shareEmailSend.prop("disabled",!1)}))};ModalShare.prototype.shareGATracking=function(a,b){var c=window._gaq||[],a=this.gaTrackAction?this.gaTrackAction+"_"+a:a;c.push(["_trackEvent",this.gaTrackCategory,a,b])};
ModalShare.prototype.renderSlideStartOptions=function(){for(var a="",b=0;b<this.data.totalSlides;b++){var c="slide "+(b+1),a=a+"<option ";0===b&&(a+=' selected="selected"');a+=">"+c+"</option>"}b=this.$container.find(".j-embed-start-picker, .j-share-start-picker");b.empty();b.append(a);this.updateStartSlide()};
ModalShare.prototype.renderDefaultEmbedOptions=function(){var a={"0":{small:[344,292],"default":[429,357],large:[514,422],xlarge:[599,487]},1:{small:[386,410],"default":[481,512],large:[576,614],xlarge:[672,716]}}[this.data.ssType%2],b="",c;for(c in a){var d=a[c][0]+" x "+a[c][1],b=b+('<option value="'+c+'" data-width="'+a[c][0]+'" data-height="'+a[c][1]+'"');"default"===c&&(b+=" selected");b+=">"+d+"</option>"}a=this.$container.find(".j-embed-size-picker");a.empty();a.append(b);this.$container.find(".j-embed-start-picker").prop("selecteIndex",
1);this.$container.find(".j-share-embed-wp").val(this.data.social.wordpress);this.$container.find(".j-share-embed-link").text(this.data.embedCode)};ModalShare.prototype.toggleAddMessageHeight=function(a){this.$shareEmailMsg.toggleClass("msg-expanded",a)};ModalShare.prototype.collapseAllSections=function(){$(".j-share-expand").slideUp();$("#share-embed-link").scrollTop(0);$(".j-triggered").removeClass("j-triggered");this.toggleAddMessageHeight(!1)};
ModalShare.prototype.triggerExpand=function(a){this.collapseAllSections();$(a).addClass("j-triggered");$(a).siblings(".j-share-expand").slideDown(400,this.adjustShareModalTop);this.$contentWrapper.removeClass("email-expanded embed-expanded");$(a).hasClass("j-share-email-to")?this.$contentWrapper.addClass("email-expanded"):$(a).hasClass("j-share-embed-link")&&this.$contentWrapper.addClass("embed-expanded")};
ModalShare.prototype.getNewSlideURL=function(a,b){var c=document.createElement("a");c.href=a;var d=c.pathname.split("/");d[0]||d.shift();for(var e=d.length,f=d[e-1];!f&&0<e;)d.pop(),e--,f=d[e-1];parseInt(f,10)&&2<e&&d.pop();1<b&&d.push(b);c.pathname=d.join("/");return c.href};ModalShare.prototype.getSlideImageURL=function(a){return $('#svPlayerId .slide[data-index="'+a+'"] .slide_image').data("full")};
ModalShare.prototype.bindModalEvents=function(){var a=this;this.$close.bind("click",function(){a.close()});this.GAtimeout_start=0;this.$container.find(".j-share-start-picker").change(function(){a.updateStartSlide();var b=this;clearTimeout(a.GAtimeout_start);a.GAtimeout_start=setTimeout(function(){a.shareGATracking("share_social",$(b).data("ga"))},2E3)});this.$shareEmailForm.submit(function(b){b.preventDefault();b.stopPropagation();a.sendShareEmail()});this.$shareEmailMsg.click(function(){a.toggleAddMessageHeight(!0)});
this.$container.find(".j-share-email-to, .j-share-email-name").click(function(){a.toggleAddMessageHeight(!1)});this.$container.find(".j-share-social-list li").click(function(){a.sharePopup($(this).data("network"))});this.$container.find(".j-update-embed").change(function(){a.updateEmbed()});this.$container.find(".j-share-embed-link, .j-share-embed-wp, .j-last-screen-ssurl").bind("click",function(){this.select()});this.$container.find(".j-share-link-url").click(function(){this.select();a.shareGATracking("share_social",
$(this).data("ga"))});this.$container.find(".j-share-email-form input, .j-share-email-form textarea, .j-add-msg, .j-send-another-email").click(function(){"send"!==$(this).data("ga")&&a.shareGATracking("share_email",$(this).data("ga"))});this.$container.find(".j-embed-use-ssl-cbox, .j-embed-related-cbox, .j-embed-size-picker, .j-embed-start-picker").click(function(){a.shareGATracking("share_embed",$(this).data("ga"))});this.$container.find(".j-share-expand-trigger").click(function(){0<$(this).siblings(".j-share-expand:visible").length||
a.triggerExpand(this)});$(window).resize(function(){a.adjustShareModalTop()});$(document).keydown(function(b){27===b.which&&(b.preventDefault(),a.close())});$(".j-modal-popup").on("scroll",function(){a.$close.css("top",8+$(this).scrollTop()+"px")})};ModalShare.prototype.bindCustomModalEvents=function(){};
ModalShare.prototype.createShareHash=function(){this.SHARE_HASH={facebook:"https://www.facebook.com/sharer/sharer.php?u=",linkedin:"https://www.linkedin.com/cws/share?",twitter:"https://twitter.com/share?",wordpress:"",pinterest:"https://pinterest.com/pin/create/button/?"}};ModalShare.prototype.getSSId=function(a){return a.length?a.data("slideshowid"):slideshare_object.modal_player.get_ss_id()};ModalShare.prototype.bindModalToShareButtons=function(){};ModalShare.prototype.trackShareClick=function(){};
ModalShare.prototype.saveShare=function(a){$.post("/share/viralshare",{data:{id:this.data.ssId,network:a}})};
ModalShare.prototype.loadFBWidget=function(){var a,b=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(a=document.createElement("script"),a.id="facebook-jssdk",a.src="//connect.facebook.net/en_US/all.js",b.parentNode.insertBefore(a,b));var c=this,d=function(){c.shareGATracking("share_social","fb_success_callback")},e={appId:2490221586,status:!0,cookie:!0,xfbml:!0,oauth:!0,channelUrl:NaN};"object"===typeof FB?window.setTimeout(function(){FB.XFBML.parse();FB.Event.subscribe("edge.create",
d)},50):window.fbAsyncInit=function(){FB.init(e);FB.Event.subscribe("edge.create",d)}};ModalShare.prototype.showLikeUsModal=function(){};ModalShare.prototype.postToFacebook=function(){var a=this;window.FB&&FB.ui({method:"feed",display:"popup",link:this.data.ssLink},function(b){b&&b.post_id&&a.saveShare("facebook")})};ModalShare.prototype.adjustShareModalTop=function(){};ModalShare.prototype.updateStartSlide=function(){};
function PlayerModalShare(a,b){this.config=$.extend(a,b.config);this.sslastscreen=b;a&&this.init();this.gaCategory=this.config.gaCategory?this.config.gaCategory:b.gaCategory}PlayerModalShare.prototype=new ModalShare;
PlayerModalShare.prototype.set_data=function(){this.data={ssLink:this.getNewSlideURL($(".j-share-social-list").data("canonical-url"),1),ssId:this.sslastscreen.config.slideshowId,totalSlides:this.sslastscreen.config.totalSlides};this.data.social=this.get_viral_share_urls();this.SHARE_ABBRS={facebook:"fb",linkedin:"li",twitter:"tw",pinterest:"pi"};this.renderSlideStartOptions()};
PlayerModalShare.prototype.showLikeUsModal=function(){if(0===$("#fb_like_modal").length){$("body").append('<div class="modal fade hide" id="fb_like_modal" style="width:auto;top:85%;"></div>');var a=this;$("#fb_like_modal").load("/fb_share_complete",function(){$("#like_iframe").click(function(){a.shareGATracking("fb_likeus","click")})})}$("#last-screen-modal-share .j-modal-close").click();$("#fb_like_modal").modal("show")};PlayerModalShare.prototype.bindCustomModalEvents=function(){this.set_data()};
PlayerModalShare.prototype.close=function(){$("#svPlayerId").hasClass("infographic_player")&&$("body").removeClass("overflow_hidden");this.reset();this.$container.hide();this.sslastscreen.restoreLastScreenState();this.sslastscreen.isShareScreenVisible=!1;this.shareGATracking("modalClose")};PlayerModalShare.prototype.trackShareClick=function(a){this.shareGATracking(this.SHARE_ABBRS[a],"share_open")};
PlayerModalShare.prototype.shareGATracking=function(a,b){"undefined"!==typeof b&&(a=a+"_"+b);$.slideshareEventManager.trackEvent(this.gaCategory+a)};
ModalShare.prototype.updateStartSlide=function(){var a=$(".j-share-start-picker").prop("selectedIndex")+1||1;if(!(0>=a)){var b=this;$(".j-share-social-list li a").each(function(){var c=$(this).data("url");c&&$(this).data("url",b.getNewSlideURL(c,a))});this.data.ssLink=this.getNewSlideURL(this.data.ssLink,a);$("#share-link-url").prop("value",this.getNewSlideURL($("#share-link-url").prop("value"),a));$(".j-share-social-list li.pinterest a").data("media",this.getSlideImageURL(a));$(".j-embed-start-picker").prop("selectedIndex",
a-1);this.updateEmbed();this.data.social=this.get_viral_share_urls()}};
(function(a){function b(){}function c(a){G=[a]}function d(a,b,c){return a&&a.apply(b.context||b,c)}function e(e){function P(a){A++||(B(),C&&(F[p]={s:[a]}),Q&&(a=Q.apply(e,[a])),d(I,e,[a,L,e]),d(R,e,[e,L]))}function H(a){A++||(B(),C&&a!=M&&(F[p]=a),d(J,e,[e,a]),d(R,e,[e,a]))}var e=a.extend({},S,e),I=e.success,J=e.error,R=e.complete,Q=e.dataFilter,D=e.callbackParameter,T=e.callback,X=e.cache,C=e.pageCache,U=e.charset,p=e.url,w=e.data,V=e.timeout,E,A=0,B=b,m,z,K;O&&O(function(a){a.done(I).fail(J);I=
a.resolve;J=a.reject}).promise(e);e.abort=function(){!A++&&B()};if(!1===d(e.beforeSend,e,[e])||A)return e;p=p||h;w=w?"string"==typeof w?w:a.param(w,e.traditional):h;p+=w?(/\?/.test(p)?"&":"?")+w:h;D&&(p+=(/\?/.test(p)?"&":"?")+encodeURIComponent(D)+"=?");!X&&!C&&(p+=(/\?/.test(p)?"&":"?")+"_"+(new Date).getTime()+"=");p=p.replace(/=\?(&|$)/,"="+T+"$1");C&&(E=F[p])?E.s?P(E.s[0]):H(E):(N[T]=c,m=a(x)[0],m.id=n+Y++,U&&(m[g]=U),W&&11.6>W.version()?(z=a(x)[0]).text="document.getElementById('"+m.id+"')."+
r+"()":m[f]=f,Z&&(m.htmlFor=m.id,m.event=j),m[t]=m[r]=m[q]=function(a){if(!m[s]||!/i/.test(m[s])){try{m[j]&&m[j]()}catch(b){}a=G;G=0;a?P(a[0]):H(k)}},m.src=p,B=function(){K&&clearTimeout(K);m[q]=m[t]=m[r]=null;y[u](m);z&&y[u](z)},y[l](m,D=y.firstChild),z&&y[l](z,D),K=0<V&&setTimeout(function(){H(M)},V));return e}var f="async",g="charset",h="",k="error",l="insertBefore",n="_jqjsp",j="onclick",r="on"+k,t="onload",q="onreadystatechange",s="readyState",u="removeChild",x="<script>",L="success",M="timeout",
N=window,O=a.Deferred,y=a("head")[0]||document.documentElement,F={},Y=0,G,S={callback:n,url:location.href},W=N.opera,Z=!!a("<div>").html("<\!--[if IE]><i><![endif]--\>").find("i").length;e.setup=function(b){a.extend(S,b)};a.jsonp=e})(jQuery);function SSBandInteraction(a){this.config=a;this._init()}
SSBandInteraction.prototype._init=function(){var a=this,b=this.config.container,c=this.config.linksDisabled;b.bind("mousedown",function(d){if(1===d.which){var e=$(this).offset();a.startX=d.pageX-e.left;b.bind("mouseup",function(a){var d,a=a.target,e=a.tagName.toUpperCase();if(c)d=!1;else if("SPAN"===e&&"A"===a.parentNode.tagName.toUpperCase())d=a.parentNode;else if("A"===e||"AREA"===e)d=a;d&&(a=parseInt(d.attributes.href.value,10),isNaN(a)&&window.open(d.href),$.slideshareEventManager.trackOutboundClick(d.href));
b.unbind("mouseup")})}});$(b).bind("click",function(a){a.preventDefault()});$(this).bind("bandclick",function(b){b.preventDefault();var b=b.ssData.x,c=a.config.width/3;b<c?$(a).trigger("bandprevious"):b>2*c&&$(a).trigger("bandnext")});$(".leftpoint").click(function(){$(a).trigger("bandprevious")});$(".rightpoint").click(function(){$(a).trigger("bandnext")})};
SSBandInteraction.prototype.activate=function(){$(this).bind("bandprevious",function(){$.slideshareEventManager.trigger("previous",{source:"band"})});$(this).bind("bandnext",function(){$.slideshareEventManager.trigger("next",{source:"band"})})};SSBandInteraction.prototype.deactivate=function(){$(this).unbind("bandprevious");$(this).unbind("bandnext")};SSBandInteraction.prototype.destroy=function(){};
"undefined"===typeof window.cookie&&(window.cookie=function(a,b,c){if("undefined"!=typeof b){c=c||{};null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString))"number"==typeof c.expires?(d=new Date,d.setTime(d.getTime()+864E5*c.expires)):d=c.expires,d="; expires="+d.toUTCString();var e=c.path?"; path="+c.path:"",f=c.domain?"; domain="+c.domain:"",c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,e,f,c].join("")}else{b=null;if(document.cookie&&
""!==document.cookie){c=document.cookie.split(";");for(d=0;d<c.length;d++)if(e=jQuery.trim(c[d]),e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}});
void 0===$.slideshareEventManager&&$.extend({slideshareEventManager:{SHOUTEVENTS:{next:!0,previous:!0,gotoslide:!0,slidechanged:!0,leadcreated:!0,insight:!0},stats:{viewer_id:window.cookie("_uv_id")||Math.ceil(1E8*Math.random()),session_id:Math.ceil(1E8*Math.random()),last_slide:1,last_activity:$.now()},functions:{showlastscreen:function(){var a=this.controller;a.isValidNextSlideshowExperiment()?this.trigger("showNextSlideshow"):a.displayLastScreen()},hidelastscreen:function(){this.controller.hideLastScreen()},
gotofirstslide:function(){var a=this.controller;this.trigger("hideNextSlideshow");a.play(1);"video"===a.config.player_type&&a.multimediaResource&&a.multimediaResource.videoPlayer.seek(0).play(!0)},next:function(a){var b=this.controller;if("iframe"==b.mode)b.currentComponentSet.slidedisplayer.next();else{var c=b.currentPosition,d=b.slideCount,e=a&&a.touchedSlideNo,f=b.slides[c];e<c-3||(e>d-1&&b.lastSlideReached(),"ytube_video"===f.config.slideMode&&f._pauseVideo(),c===d&&"undefined"===typeof new_mobile_player?
b.isValidNextSlideshowExperiment()?this.trigger("showNextSlideshow"):this.trigger("showlastscreen"):(c+=1,b.play(c,!1,a&&a.source),a&&a.source&&$.slideshareEventManager.trackEvent(a.source+"_"+c)))}},previous:function(a){var b=this.controller;if("iframe"==b.mode)b.currentComponentSet.slidedisplayer.previous();else{var c=b.currentPosition,d=c-1,e=a&&a.source;this.trigger("hideNextSlideshow");b.slides[c].stop();b.play(d,!1,e);a&&a.source&&$.slideshareEventManager.trackEvent(a.source+"_"+d)}},showNextSlideshow:function(){this.controller.showNextSlideshowCTA()},
hideNextSlideshow:function(){var a=this.controller;a.config.next_prev_experiment&&"presentation"===a.config.player_type&&a.hideNextSlideshowCTA()},updateNextSlideshowCookie:function(a){var b=window.cookie("next_slideshows_seen_ids"),c="clear"===a?-1:1;b&&4E3<=b.length?c=-1:b?(b=b.split(","),-1===b.indexOf(a.toString())&&b.push(a)):b=[this.controller.config.id,a];window.cookie("next_slideshows_seen_ids",b,{expires:c,path:"/"})},mobileScrollPlayingMode:function(a){this.controller.playingMode=a},gotolastslide:function(){var a=
this.controller;a.play(a.slideCount)},document_touch_scroll:function(a){this.controller.currentComponentSet.slidedisplayer.manualScroll(a.delta)},toggleaudio:function(){var a=this.controller;a.multimediaResource&&a.multimediaResource.togglePlay()},audioplayed:function(){this.controller.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!0})},audiopaused:function(){this.controller.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!1})},videoready:function(a){var b=this.controller;
b.initVideoPlayer(a.mode);b.currentComponentSet.videobar._bindEvents()},gotoslide:function(a){this.controller.play(a.index);this.trigger("hideNextSlideshow");$.slideshareEventManager.trackEvent("jumptoslide_"+a.index)},viewonss:function(){window.open(this.controller.config.slideview_url,"viewer")},viewfullscreen:function(){var a=this.controller,b=a.currentComponentSet;if(!("nativefullscreen"==a.currentViewMode||"fullscreen"==a.currentViewMode)){"document"===a.config.player_type&&b.slidedisplayer.setZoom(0);
b.videobar&&(a.disableLeadForFullscreenVideo(!0),b.slidedisplayer.adjustSpinnerPosition(!0));if(a.isNativeFullScreenSupported){if(b.container.addClass("fullscreen"),a.switchNativeView("nativefullscreen"),"undefined"!==typeof SSDocumentDisplayer&&a.currentComponentSet.slidedisplayer instanceof SSDocumentDisplayer){var c=a.currentPosition;setTimeout(function(){a.play(c,!0)},500)}}else{if(isIEAllVersion){"undefined"!==typeof SSVideoEmbedSlide&&(a.currentPosition&&a.slides[a.currentPosition]instanceof
SSVideoEmbedSlide)&&a.slides[a.currentPosition].stop();window.open(a.getFullScreenUrl(),"_blank","width="+screen.width+",height="+screen.height+",location=no");return}a.switchToFullScreen()}"nativefullscreen"===a.currentViewMode&&_gaq.push(["_trackPageview","/"+this.hostedIn+"FullscreenView"])}},leavefullscreen:function(){var a=this.controller;if("normal"!=a.currentViewMode&&(a.leaveFullScreen(),"undefined"!==typeof SSDocumentDisplayer&&a.currentComponentSet.slidedisplayer instanceof SSDocumentDisplayer)){var b=
a.currentPosition;setTimeout(function(){a.play(b,!0)},100)}},zoomin:function(){this.controller.currentComponentSet.slidedisplayer.zoomin()},zoomout:function(){this.controller.currentComponentSet.slidedisplayer.zoomout()},playersearch:function(){},playershare:function(a){this.controller.displayShareScreen({gaCategory:a,customizations:{title:"Share SlideShare"}});"video"===this.controller.config.player_type&&this.controller.multimediaResource&&this.controller.multimediaResource.pause()},metadataloaded:function(a){var b=
this.controller,c=a.type;b._metaDataHandlers()[c].success.call(b,a.json)},metadataloadfailed:function(a){var b=this.controller,a=a.type;b._metaDataHandlers()[a].failure.call(b);this.trackRawEvent("jsplayer_debug",a+"_metadataloadfailed",void 0,!0)},slidechanged:function(a){this.trigger("hidelastscreen");var b=a.index,c=this.controller,d=c.config.has_video&&c.config.video_hash[c.config.start_slide];if(c.currentPosition!==b||a.force)this.controller.updateCurrentPosition(b),this.controller.hideShareScreen(),
0<c.config.related_position&&$.slideshareEventManager.trackEvent("related"+c.config.related_position+"_slide_changed"),this.controller.currentComponentSet.share_cta&&this.controller.currentComponentSet.share_cta.showAndFadeOut(),b===c.config.start_slide&&c.config.show_image_player&&!d?c._load(b,!0):c._load(b),a.alreadyInPosition||c.currentComponentSet.slidedisplayer._scrollTo(b),2===b?$.slideshareEventManager.trackEvent("slidechange_2"):b===c.slideCount&&$.slideshareEventManager.trackEvent("slidechange_last"),
c.has_lead&&(!this.controller.checkLeadFilledForAuthor()&&b===c.config.form_after_slide_no)&&this.trigger("showleadform"),this.trackSlideTransitionTime(),$(window).trigger("resize")},slidescrolled:function(a){(this.controller.currentPosition!==a.index||a.force)&&this.trigger("slidechanged",a)},handlemultimedia:function(){var a=this.controller;a.multimediaResource&&(a.wasPlaying=a.multimediaResource.isPlaying(),a.multimediaResource.pause())},showleadform:function(){this.controller.leadShownAndDisabled||
(this.trigger("handlemultimedia"),this.controller.currentComponentSet.leadForm.toggle(),this.controller.currentComponentSet.leadForm.isVisible()&&this.controller.deactivateToolbar())},showleadforvideo:function(){this.controller.has_lead&&!this.controller.checkLeadFilledForAuthor()&&this.trigger("showleadform")},showleadcta:function(){this.controller.config.show_lead_cta&&this.controller.currentComponentSet.leadcta.show()},leadformloaded:function(a){this.trigger("showleadcta");a&&(this.controller.config.leadFormHtml=
a.leadFormHtml)},leadcreated:function(){this.controller.leadShownAndDisabled=!0;this.controller.setLeadFilledForAuthor();this.controller.currentComponentSet.leadcta&&this.controller.currentComponentSet.leadcta.hide();this.controller.activateToolbar()},screenoverlayclosed:function(){this.controller.multimediaResource&&this.controller.wasPlaying&&this.controller.multimediaResource.play()},showvideospinner:function(){var a=this.controller;a.currentComponentSet.slidedisplayer.videoSpinner.css("z-index",
a.VIDEO_FULLSCREEN_ZINDEX).show()},hidevideospinner:function(){this.controller.currentComponentSet.slidedisplayer.videoSpinner.css("z-index","auto").hide()},toolbarshown:function(){$(".toolbar").css("z-index",$(".slideDisplayer").css("z-index"))},leadcancelled:function(){this.controller.leadShownAndDisabled=!0;this.controller.currentComponentSet.leadcta&&this.controller.currentComponentSet.leadcta.hide();this.controller.activateToolbar()},currentversionloaded:function(a){this.controller.slides[a.index].updateRenderedResourceVersion(a.resourceKey)},
resourceloaded:function(a){var b=this.controller.slides[a.index];b.updateResource(a.resourceKey,{status:"cached"});if("failed"!==b.status){var c=b.resources,d;for(d in c)if(!0===c[d].cacheable&&"cached"!==c[d].status)return;b.status="cached";this.trigger("slideloaded",{index:a.index})}},resourceloadfailed:function(a){var b=this.controller.slides[a.index],c=a.resourceKey;b.updateResource(c,{status:"failed"});!0===b.resources[c].isCritical&&(b.status="failed",this.trigger("slideloadfailed",{index:a.index}));
this.trackRawEvent("jsplayer_debug",c+"_resourceloadfailed",void 0,!0)},fontresourceloaded:function(a){var b=this.controller;b.config.use_ssl&&-1!==a.style.indexOf(".eot")&&(a.style=a.style.replace(/http:\/\//g,"https://"));$("<style>"+a.style+"</style>").appendTo(b.currentComponentSet.container)},slideloaded:function(a){var b=this.controller,a=a.index,c=b.slides[a];c.currentViewMode.rendered&&("undefined"!==typeof new_mobile_player&&b.resetSlideShowHeight(a),c.paint());$("#playerFacade").hide();
b.startSlide===a&&(window._jspl&&_jspl.pageInitTime)&&(c=(new Date).getTime()-_jspl.pageInitTime,window._ssPageMetrics&&(window._ssPageMetrics.first_slide_time=c));b.preloadMoreIfIdle(a)},slideloadfailed:function(a){controller=this.controller;var b=controller.slides[a.index];$("#playerFacade").hide();b.currentViewMode.rendered&&b.displayError(controller.generateErrorDom("slide_error_template",{width:b.currentViewMode.width,height:b.currentViewMode.height}));controller.preloadMoreIfIdle(a.index);this.trackRawEvent("jsplayer_debug",
"slideloadfailed",this.controller.config.id+"_slide_"+a.index,!0)},videoloadfailed:function(){this.trackRawEvent("jsplayer_debug","videoloadfailed",void 0,!0)},slideloading:function(a){var b=this.controller,c=b.slides[a.index];-1===b.loadingSlides.indexOf(a.index)&&b.loadingSlides.push(a.index);c.currentViewMode.rendered&&c.displayLoading();b.currentPosition===a.index&&this.trackRawEvent("jsplayer_debug","current_slide_loading",void 0,!0)},showvolumecontrol:function(){var a=this.controller.currentComponentSet.toolbar;
a&&a.volumeControl&&a.volumeControl.show()},hidevolumecontrol:function(){var a=this.controller.currentComponentSet.toolbar;a&&a.volumeControl&&a.volumeControl.hide()},changevolume:function(a){var b=this.controller.multimediaResource;b&&b.changeVolume(a.volume)},volumechanged:function(a){var b=this.controller.currentComponentSet.toolbar;b&&b.volumeControl&&b.volumeControl.setVolume(a.volume)},repaint:function(a){this.controller.repaint(a.mobile)}},registerController:function(a){this.controller=a},
registerPlayer:function(a){this.player=$(a)},registerEnvironment:function(a){this.hostedIn=a||"slideshare"},trigger:function(a,b){void 0!==this.functions[a]&&this.functions[a].call(this,b);this.SHOUTEVENTS[a]&&this.player.trigger({type:a,ssData:b})},trackEvent:function(a,b){void 0!==window._gaq&&window._gaq.push(["_trackEvent","jsplayer",this.hostedIn,a,void 0,!!b])},trackRawEvent:function(a,b,c,d){void 0!==window._gaq&&window._gaq.push(["_trackEvent",a,b,c,void 0,!!d])},trackValueEvent:function(a,
b,c,d){void 0!==window._gaq&&window._gaq.push(["_trackEvent",a,b,c,d])},trackOutboundClick:function(a){this.beaconState({event:"outbound_click",href:a,slide_no:this.controller.currentPosition,ts:$.now()})},trackUniqueViewer:function(){this.beaconState({event:"page_hit",ts:$.now()})},trackSlideTransitionTime:function(){var a=$.now(),b=a-this.stats.last_activity;this.stats.last_activity=a;var c=this.stats.last_slide,d=this.controller.slideCount;this.trigger("insight",{index:c,time:b});this.beaconState({event:"slide_time_spent",
time_spent:b,slide_no:c,total_slides:d,ts:a});this.stats.last_slide=this.controller.currentPosition},beaconState:function(a){var b=this.controller.config;if(1===b.track_slide_enable){var c=("https:"===document.location.protocol?"https://":"http://")+b.beacon_url,a=$.extend(a,{slideshow_id:b.id,author_id:b.author_id,source:b.hosted_in,_uv_id:this.stats.viewer_id,session_id:this.stats.session_id});b.referer&&(a.ref=b.referer);var d=function(a){(new Image(1,1)).src=c+(0>c.indexOf("?")?"?":"&")+$.param(a)};
"complete"===document.readyState?d(a):window.addEventListener?window.addEventListener("load",function(){d(a)},!1):window.attachEvent&&window.attachEvent("onload",function(){d(a)});var e=window.location.host.replace("www","");!b.do_not_track&&window.cookie("_uv_id",this.stats.viewer_id,{expires:730,path:"/",domain:e})}},getController:function(){return this.controller},getCurrentPosition:function(){return this.controller.currentPosition}}});function SSLastScreen(a){this.config=a;this._init()}
SSLastScreen.prototype._init=function(){this.isShareScreenVisible=this.isVisible=!1;this.gaCategory="lastscreen_v1_";this.$container=$("#lastScreen");this.$container.find("img.j-thumbnail").lazyload({effect:"fadeIn",event:"loadThumb"})};SSLastScreen.prototype.exitFullScreenIfIdle=function(){var a=setTimeout(function(){$(".lastScreen").is(":visible")&&($.browser.mozilla||$(".btnLeaveFullScreen").trigger("click"))},5E3);$(".lastScreen").on("click",function(){clearTimeout(a)})};
SSLastScreen.prototype.show=function(a,b){this.$container.find("img.j-thumbnail").trigger("loadThumb");this.isVisible=!0;if(void 0!==this.overlay)this.overlay.show(),this.lastScreen.show();else{var c="lastScreenContainer";isMobile()&&(c+=" mobile");this.lastScreen=this.$container.addClass(c).appendTo(this.config.renderTo);this.overlay=this.lastScreen.find(".j-last-screen-overlay");this.setDimensions(a);this.populateTemplate();b&&this.exitFullScreenIfIdle()}};
SSLastScreen.prototype.populateTemplate=function(){this.lastScreen.find(".lastScreenEmbedCode, .j-share-embed-link").val(this.config.embed_code);this.lastScreen.find(".lastScreenSSUrl, .j-share-link-url").val(this.config.settings.url);this.lastScreen.find(".j-share-embed-wp").val(this.config.wp_code);$.fn.tooltip&&this.lastScreen.find(".j-tooltip").tooltip();this.config.disableRelated&&(this.lastScreen.find(".lastScreen").addClass("j-disable-related"),this.config.disableShare&&this.lastScreen.find(".lastScreen").addClass("j-disable-share"),
this.isProLastScreen=!0);this._bindEvents();this.initShareWidget();this.populateEmbedSizes()};SSLastScreen.prototype.initShareWidget=function(){this.shareWidgets=new SSShareWidgets({container:this.lastScreen,gaCategory:this.gaCategory})};SSLastScreen.prototype.populateEmbedSizes=function(){var a=this.lastScreen.find(".j-embed-size-picker");$.each(this.config.embed_sizes.presets,function(b,c){var d=c.size.width+4,e=c.size.height+2,d=$("<option/>").val(b).text(d+"x"+e);a.append(d)});a.val(this.config.embed_sizes.config.defaultPreset).change()};
SSLastScreen.prototype._bindEvents=function(){$(".lastscreen-share-cta").bind("click",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("playershare",this.gaCategory)});var a=this;this.lastScreen.find(".j-email-cta").bind("click",function(){$.slideshareEventManager.trigger("playershare",this.gaCategory);a.lastScreen.find(".j-share-email-to").click();a.lastScreen.find(".j-share-email-to").focus();$.slideshareEventManager.trackEvent(a.gaCategory+"email_cta")});this.lastScreen.find(".j-last-screen-replay").bind("click",
function(b){b.preventDefault();b.stopPropagation();a.hide();$.slideshareEventManager.trigger("gotofirstslide");$.slideshareEventManager.trackEvent(a.gaCategory+"replay")});this.lastScreen.find(".j-last-screen-overlay, .j-lastscreen-close").bind("click",function(){a.hide()});this.lastScreen.find(".j-lastscreen-related a").bind("click",function(){$.slideshareEventManager.trackEvent(a.gaCategory+"relatedclick")})};
SSLastScreen.prototype.showShareScreen=function(a){this.shareOpenedFromLastScreen=this.isVisible;this.isShareScreenVisible?this.hide():(this.isShareScreenVisible=!0,this.show(a),this.lastScreen.find(".j-lastscreen").hide(),$("#svPlayerId").hasClass("infographic_player")&&($("body").addClass("overflow_hidden"),$.slideshareEventManager.getController(),$(".j-modal-popup").height($(window).height())),a.customizations.title&&this.lastScreen.find("a#button-share-tab").text(a.customizations.title),this.lastScreen.find("#last-screen-modal-share").show())};
SSLastScreen.prototype.restoreLastScreenState=function(){this.shareOpenedFromLastScreen?this.lastScreen.find(".j-lastscreen").show():(this.lastScreen.find(".j-lastscreen").show(),this.hide())};SSLastScreen.prototype.hide=function(){this.isShareScreenVisible=this.isVisible=!1;this.overlay.hide();this.lastScreen.hide()};SSLastScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay);this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)};
SSLastScreen.prototype.setDimensions=function(a){void 0!==this.lastScreen&&(this.config.lastScreenClass&&this.lastScreen.find(".lastScreen").addClass(this.config.lastScreenClass),this.lastScreen.css({height:a.height,width:a.width}))};function SSLeadCTA(a){this.config=a;this.image_width=103;this._init()}SSLeadCTA.prototype._init=function(){this.lead_cta_div=$("<div/>").html(this.config.html).appendTo(this.config.renderTo);this.cta_link=$("#lead_cta",this.lead_cta_div);this.setDimensions();this.deactivate()};
SSLeadCTA.prototype.setDimensions=function(){this.lead_cta_div.addClass("lead_cta_div").css({left:"50%","margin-left":-this.image_width/2+"px"})};SSLeadCTA.prototype._bindEvents=function(){this.cta_link.unbind("click").bind("click",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("showleadform")})};SSLeadCTA.prototype._unbindEvents=function(){this.cta_link.unbind("click").bind("click",function(a){a.preventDefault();a.stopPropagation()})};
SSLeadCTA.prototype.deactivate=function(){this._unbindEvents()};SSLeadCTA.prototype.activate=function(){this._bindEvents()};SSLeadCTA.prototype.hide=function(){$(".lead_cta_div").hide();$.slideshareEventManager.trigger("screenoverlayclosed")};SSLeadCTA.prototype.show=function(){this.lead_cta_div.show()};SSLeadCTA.prototype.destroy=function(){this._unbindEvents();this.lead_cta_div.remove()};function SSLeadForm(a){this.config=a;this.config.showLeadForm=!0;this._init()}
SSLeadForm.prototype._init=function(){var a=this;""===this.config.leadFormHtml?$.ajax({url:this.config.lead_form_url,data:{},dataType:"html",cache:!1,type:"GET",success:function(b){a.config.leadFormHtml=b;$.slideshareEventManager.trigger("leadformloaded",{leadFormHtml:b})},failure:function(){}}):$.slideshareEventManager.trigger("leadformloaded")};
SSLeadForm.prototype.toggle=function(){null===document.getElementById("leadsform-placeholder-new")&&($(this.config.leadFormHtml).insertBefore(this.config.renderTo),this.config.show_skip_button||$(".j-lead-cancel").remove());$(".lead-overlay").fadeToggle(1E3,"linear")};
SSLeadForm.prototype._bindEvents=function(){$(".player").on("click",".lead-overlay form .submit",function(a){a.preventDefault();a.stopPropagation();var c=$(".lead-overlay #leadsform-placeholder-new"),d=$(".lead-overlay .progress"),e=$(".lead-overlay .progress_done"),f=$(".lead-overlay .progress_error");c.form=$("form",c);try{c.form[0].validate_formfields()&&(c.css({height:"120px"}),d.show(),c.form.hide(),$.slideshareEventManager.trackEvent("bigfoot_leadsform","sent"),$.ajax({url:c.form[0].action,
data:"mechanism=Sidebar&"+c.form.serialize(),type:"POST",cache:!1,success:function(){e.show();d.hide();$(".lead-overlay").fadeOut(3E3,"linear");$.slideshareEventManager.trigger("leadcreated");c.html('<div class="progress_done">'+e.html()+"</div>")},error:function(){d.hide();f.show();$(".lead-overlay").fadeOut(2E3,"linear");setTimeout(function(){f.hide();c.form.show()},2E3)}}))}catch(g){}});if(this.config.show_skip_button){var a=this;$(this.config.renderTo).parent().on("click",".j-lead-cancel",function(b){b.preventDefault();
b.stopPropagation();$.slideshareEventManager.trigger("leadcancelled");a.hide()})}else $(".j-lead-cancel").remove();$(this.config.renderTo).parent().on("click",".j-track-lead",function(){window._gaq.push(["_trackEvent","bigfoot_leadsform",$(this).data("ga"),a.config.slideshowId.toString()])})};SSLeadForm.prototype._unbindEvents=function(){$(".j-lead-cancel").off("click");$(".player").off("click",".lead-overlay form .submit")};SSLeadForm.prototype.deactivate=function(){this._unbindEvents();$(".lead-overlay").remove()};
SSLeadForm.prototype.activate=function(){this._unbindEvents();this._bindEvents()};SSLeadForm.prototype.hide=function(){$(".lead-overlay").hide()};SSLeadForm.prototype.show=function(){$(".lead-overlay").show()};SSLeadForm.prototype.isVisible=function(){return $(".lead-overlay").is(":visible")};SSLeadForm.prototype.destroy=function(){$(".lead-overlay").remove()};function SSReplayScreen(a){this.config=a;this.html=a.settings.html;this._init()}SSReplayScreen.prototype._init=function(){};
SSReplayScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").css({width:"100%",height:"100%","background-color":"black",opacity:0.75,position:"absolute",top:0,left:0}).appendTo(this.config.renderTo),this.lastScreen=$("<div/>").css({position:"absolute"}).html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.bindEvents())};
SSReplayScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay);this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)};SSReplayScreen.prototype.bindEvents=function(){var a=this;this.lastScreen.find(".replayScreenReplay").bind("click",function(b){b.preventDefault();a.destroy();$.slideshareEventManager.trigger("gotofirstslide");$.slideshareEventManager.trackEvent("lastscreen_replay")})};
SSReplayScreen.prototype.setDimensions=function(a){if(void 0!==this.lastScreen){var b;b=(a.height-25)/2;a=(a.width-93)/2;b=0>b?0:parseInt(b,10);a=0>a?0:parseInt(a,10);this.lastScreen.css({top:b,left:a})}};function SSResource(a){"undefined"!==typeof a&&(this.TIMEOUT_LIMIT=1E5,this.RETRY_WAIT_TIME=3E3,this.config=a,this.resourceKey=a.resourceKey,this._init())}SSResource.prototype._init=function(){this._initResourceConfig();this.status="initialized"};
SSResource.prototype.reset=function(){this.status="initialized";this.retries=0;if(this.suffixes){var a,b;for(a in this.suffixes)b=this.suffixes[a],b.status="initialized",delete b.startTime,b.retries=2}};SSResource.prototype.load=function(){this.status="loading";this.loadBlocked||(this.startTime=(new Date).getTime(),this._tryLoad())};
SSResource.prototype.update=function(a){var b,c;for(b in a)c=a[b],"image"===this.resourceKey&&"sizes"===b?this.delayedInitialize&&this.delayedInitialize(c):"image"===this.resourceKey&&"linkData"===b?this.addLinks(c):this[b]=c};
SSResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},a.RETRY_WAIT_TIME)):$.slideshareEventManager.trigger("resourceloadfailed",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};function SSShareCta(a){this.config=a;this.displayedOnce=this.visible=!1;this.init()}
SSShareCta.prototype.init=function(){this.container=$(this.config.html).appendTo(this.config.renderTo);this.hideLikeSave();this.setLikeButtonState();this.setSaveUrl();slideshare_object&&(slideshare_object.add_signin_link&&!this.isLoggedinInAncestorFrame(window,2))&&slideshare_object.add_signin_link("a.favorite");this.bindEvents()};
SSShareCta.prototype.isLoggedinInAncestorFrame=function(a,b){if(0<=b)try{return a.slideshare_object&&a.slideshare_object.user&&a.slideshare_object.user.loggedin?!0:this.isLoggedinInAncestorFrame(a.parent,b-1)}catch(c){}return!1};SSShareCta.prototype.hideLikeSave=function(){(!this.isSSEmbed()||"slideview"===this.config.hosted_in||this.config.is_fullscreen)&&$(this.config.renderTo).addClass("hide_like_player");"slideview"===this.config.hosted_in&&$(this.config.renderTo).addClass("hide_save_player")};
SSShareCta.prototype.setSaveUrl=function(){var a=this.config.renderTo.find(".j-save");a.length&&(this.config.is_mobile?this.config.renderTo.find(".j-save")[0].href=a.data("mobile-save-url"):!this.isSSEmbed()&&-1!==a[0].href.indexOf("?")&&(this.config.renderTo.find(".j-save")[0].href+="&embed=external"))};
SSShareCta.prototype.setProfileLikeState=function(){$.ajax({type:"GET",url:"/favorite/get_favorites",data:"slideshow_id="+this.config.ssid,dataType:"json",success:function(a){0<a.favorited.length&&slideshare_object.toggleLikeButton(".action-btns-container a.j-favorite")}})};
SSShareCta.prototype.setLikeButtonState=function(){this.isProfilePageEmbed()?this.setProfileLikeState():this.isSSEmbed()&&(window&&window.parent&&window.parent.document&&($(window.parent.document.getElementById("modal_player_like")).hasClass("j-favorited")||$(window.parent.document).find("a.favorite").filter("[data-ssid="+this.config.ssid+"]").hasClass("j-favorited")))&&slideshare_object.toggleLikeButton(".action-btns-container a.j-favorite")};
SSShareCta.prototype.isSSEmbed=function(){try{return parentWindow=window.parent.document,!0}catch(a){return!1}};SSShareCta.prototype.isProfilePageEmbed=function(){try{return 1===window.parent.parent.$('iframe[src*="slideshelf"]').length}catch(a){return!1}};
SSShareCta.prototype.bindEvents=function(){that=this;this.container.on("click",".share",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("playershare","share_btn_")});if(this.isSSEmbed())this.container.on("click",".favorite",function(a){if(window.parent.slideshare_object&&window.parent.slideshare_object.modal_favorite_click)window.parent.slideshare_object.modal_favorite_click(a,this);else if(that.isLoggedinInAncestorFrame(window,2)){a.preventDefault();a.stopPropagation();
var a=$(this),b=a.hasClass("j-favorite"),c=b?"/favorite/create":"/favorite/delete",d=a.data("ss-url"),a={element:a,url:c,selectors:".j-favorite, .j-favorited",event_category:"player",is_favorited:b,ss_url:d,data:{slideshow_id:that.config.ssid,source:"slideviewer",response_type:"json"}};slideshare_object.toggleLikeButton($(window.parent.document).find("div.grid_thumbnail_content a.favorite").filter("[data-ssid="+that.ssid+"]"));slideshare_object.favorites_call_handler(a)}else if(b=window.parent.slideshare_object.logged_out_action_modal_player_click||
window.parent.parent.slideshare_object.logged_out_action_modal_player_click)a.preventDefault(),a.stopPropagation(),slideshare_object.addAfterLoginEvent({event:"like",data:{slideshow_id:that.config.ssid}}),b(this)});this.container.on("click",".j-save",function(a){$.slideshareEventManager.trackEvent("save_cta_clicked");if(!that.isLoggedinInAncestorFrame(window,2)&&that.isSSEmbed()){var b=window.parent.slideshare_object.logged_out_action_modal_player_click||window.parent.parent.slideshare_object.logged_out_action_modal_player_click;
b&&(a.preventDefault(),a.stopPropagation(),b(this))}})};SSShareCta.prototype.show=function(){this.container.addClass("hover");return this.visible=!0};SSShareCta.prototype.showAndFadeOut=function(){var a=this;this.show();this.displayedOnce&&setTimeout(function(){a.hide()},100);return this.displayedOnce=!0};SSShareCta.prototype.hide=function(){this.container.removeClass("hover");return this.visible=!1};function SSShareWidgets(a){this.gaCategory=a.gaCategory;this.container=a.container}
SSShareWidgets.prototype.loadTwWidget=function(){var a=window,b;var c,d=document.getElementsByTagName("script")[0];document.getElementById("twitter-wjs")?b=void 0:(b=document.createElement("script"),b.id="twitter-wjs",b.src="//platform.twitter.com/widgets.js",d.parentNode.insertBefore(b,d),b=window.twttr||(c={_e:[],ready:function(a){c._e.push(a)}}));a.twttr=b;var e=this;twttr.ready(function(a){a.events.bind("tweet",function(a){a&&$.slideshareEventManager.trackEvent(e.gaCategory+"twitter_share")});
a.events.bind("click",function(){$.slideshareEventManager.trackEvent(e.gaCategory+"twitter_click")})})};
SSShareWidgets.prototype.loadFBWidget=function(){var a,b=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(a=document.createElement("script"),a.id="facebook-jssdk",a.src="//connect.facebook.net/en_US/all.js",b.parentNode.insertBefore(a,b));var c=this,d=function(){$.slideshareEventManager.trackEvent(c.gaCategory+"fb_share")},e={appId:2490221586,status:!0,cookie:!0,xfbml:!0,oauth:!0,channelUrl:NaN};"object"===typeof FB?window.setTimeout(function(){FB.XFBML.parse();
FB.Event.subscribe("edge.create",d)},50):window.fbAsyncInit=function(){FB.init(e);FB.Event.subscribe("edge.create",d)}};
SSShareWidgets.prototype.loadLIwidget=function(){var a=document.location.protocol+"//platform.linkedin.com/in.js?async=true";"undefined"===typeof IN?$.getScript(a,function(){"undefined"!==typeof IN&&IN.init({api_key:"y4wa9oe4c6nu",credentials_cookie:!0,authorize:!0,entropy:Math.floor(1E4*Math.random())})}):IN.parse(document);window.socialScreenLinkedInSuccess=function(){$.slideshareEventManager.trackEvent(that.gaCategory+"li_share")}};
SSShareWidgets.prototype.loadGplusWidget=function(){window.___gcfg={lang:"en-US"};var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://apis.google.com/js/plusone.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);window.socialScreenPlusOneSuccess=function(){$.slideshareEventManager.trackEvent(that.gaCategory+"gplus_share")}};
SSShareWidgets.prototype.loadPinItWidget=function(){var a=document.getElementsByTagName("SCRIPT")[0],b=document.createElement("SCRIPT");b.type="text/javascript";b.async=!0;b.src="//assets.pinterest.com/js/pinit.js";a.parentNode.insertBefore(b,a);this.container.find(".pinit-btn").click(function(){$.slideshareEventManager.trackEvent(that.gaCategory+"pinit_share")})};
SSShareWidgets.prototype.sendMail=function(a){var b=!1,c=a.sendButton;b||(c.trigger("mailSending"),b=!0,$.post(a.postTo,{data:a.params,dataType:"json"}).success(function(a){b=!1;a.isSuccess?c.trigger("mailSendSuccess"):c.trigger("mailSendFailure",a)}).error(function(){b=!1;c.trigger("mailSendError")}))};function SSShareOptions(a){this.config=a;this.renderTo=a.renderTo;this.html=this.config.html;this._init()}SSShareOptions.prototype._init=function(){};
SSShareOptions.prototype.show=function(){var a=this;this.shareOptions=$("<div/>").html(this.html).appendTo(this.renderTo);this.setShareObjects();$.each({".thirdPartyShare a.Twitter":this.config.twitterShare,".thirdPartyShare a.Linkedin":this.config.linkedinShare},function(b,c){a.shareOptions.find(b).bind("click",function(a){a.preventDefault();window.open(c,"ss_share","width=660,height=490,toolbar=no,resizable=fixed,status=no,scrollbars=no,menubar=no,screenX=0,screenY=0").focus()})});this.fbLike.replaceWith(this.config.facebookLike)};
SSShareOptions.prototype.setShareObjects=function(){this.twitter=this.shareOptions.find(".Twitter");this.linkedIn=this.shareOptions.find(".Linkedin");this.fbLike=this.shareOptions.find(".fb-like")};function SSShareScreen(a){this.config=a;this.html=a.settings.html;this._init()}SSShareScreen.prototype._init=function(){};
SSShareScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").addClass("jsplShareScreenOverlay").appendTo(this.config.renderTo),this.shareScreen=$("<div/>").addClass("jsplShareScreenContainer").html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.populateTemplate(),this.bindEvents())};
SSShareScreen.prototype.populateTemplate=function(){this.shareScreen.find(".shareScreenEmbedCode").val(this.config.embed_code);this.shareScreen.find(".shareScreenSSUrl").val(this.config.settings.url);this.shareScreen.find(".shareScreenFromName").val(this.config.settings.user_name);this.populateShareOptions()};
SSShareScreen.prototype.populateShareOptions=function(){this.shareOptions=new SSShareOptions({renderTo:this.shareScreen.find(".shareScreen"),html:this.config.shareOptions.html,linkedinShare:this.config.shareOptions.linkedin_share,twitterShare:this.config.shareOptions.twitter_share,facebookLike:this.config.shareOptions.facebook_like_button});this.shareOptions.show()};SSShareScreen.prototype.destroy=function(){this.overlay.remove();delete this.overlay;this.shareScreen.remove();delete this.shareScreen};
SSShareScreen.prototype.bindEvents=function(){var a=this;this.shareScreen.find(".close").bind("click",function(b){b.preventDefault();a.destroy();$.slideshareEventManager.trigger("screenoverlayclosed")});this.shareScreen.find("input[type=text]").bind("click",function(){this.select()});var b=this.shareScreen.find("input[type=submit]");this.shareScreen.find("form").bind("submit",function(a){a.preventDefault()});b.bind("click",function(c){c.preventDefault();var c=a.shareScreen.find(".shareScreenFromName").val(),
d=a.shareScreen.find(".shareScreenMailID").val(),e=a.shareScreen.find(".shareDefaultMessage").val();0===c.length||0===d.length||("undefined"!==typeof a.emailProgress&&a.emailProgress.remove(),$.slideshareEventManager.trackEvent("lastscreen_emailsending"),a.emailProgress=$("<span/>").text("sending..."),b.parent().prepend(a.emailProgress),$.ajax({url:"/share/contacts/"+a.config.settings.slideshow_id,type:"POST",data:{"message[body]":e,"message[from]":c,"message[to]":d},dataType:"json",success:function(b){!0===
b.success?($.slideshareEventManager.trackEvent("lastscreen_emailsent"),a.emailProgress.text("Sent")):($.slideshareEventManager.trackEvent("lastscreen_emailfailed"),a.emailProgress.text("Sending failed"))},error:function(){$.slideshareEventManager.trackEvent("lastscreen_emailerror");a.emailProgress.text("Sending failed")}}))});this.shareScreen.find("[name=embed-code], [name=embed-url]").bind("click",function(){$.slideshareEventManager.trackEvent("lastscreen_embedclick")})};
SSShareScreen.prototype.setDimensions=function(a){if(void 0!==this.shareScreen){this.config.shareScreenClass&&this.shareScreen.find(".shareScreen").addClass(this.config.shareScreenClass);var b=$(this.shareScreen).width(),c=$(this.shareScreen).height(),c=(a.height-c)/2,a=(a.width-b)/2,c=0>c?0:parseInt(c,10),a=0>a?0:parseInt(a,10);this.shareScreen.css({top:c,left:a})}};
function SSSlide(a){"undefined"!==typeof a&&(this.index=a.index,this.realIndex=a.realIndex,this.setContentDimensions(a.contentWidth,a.contentHeight),delete a.contentWidth,delete a.contentHeight,this.config=a,this._init())}SSSlide.prototype.setContentDimensions=function(a,b){this.contentWidth=a;this.contentHeight=b};
SSSlide.prototype._init=function(){this.status="initialized";this.controller=$.slideshareEventManager.getController();this.playerContainer="#"+this.controller.config.container;this.$stage=$(this.playerContainer+" .stage");this.$slide=this.$stage.find(".slide").eq(this.index-1);this.$imageEle=this.$slide.children(".slide_image");this.viewModes={};this.resources={};this._createResources();this._bindEvents()};SSSlide.prototype.stop=function(){};
SSSlide.prototype._createResources=function(){"undefined"===typeof this.config.timestamp&&(this.config.timestamp=(new Date).getTime());switch(this.config.slideMode){case "image":this.resources.image=new SSFallbackImageResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,signatures:{},availableSizes:this.config.availableSizes,
contentWidth:this.contentWidth,privateImageSignatures:this.config.privateImageSignatures,conversionVersion:this.config.conversionVersion,isFullscreen:this.isFullscreen(),show_image_player:this.config.show_image_player});break;case "html":this.resources.image=new SSBgImageResource({baseUrl:this.config.bucketLocation,availableSizes:this.config.availableSizes,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,
realIndex:this.realIndex,is_private:this.config.is_private,contentWidth:this.contentWidth,conversionVersion:this.config.conversionVersion,privateImageSignatures:this.config.privateImageSignatures}),this.resources.html=new SSHtmlResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"html",indexGenerator:this.config.indexGenerator,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,conversionVersion:this.config.conversionVersion,signature:this.config.htmlResourceSignature})}delete this.config.availableSizes};
SSSlide.prototype.reset=function(){this.status="initialized";for(var a in this.resources)resource=this.resources[a].reset()};
SSSlide.prototype.load=function(){if("cached"===this.status)this._getNewResourceVersions(this.currentViewMode.wrapperWidth),$.slideshareEventManager.trigger("slideloaded",{index:this.index});else if("loading"===this.status)$.slideshareEventManager.trigger("slideloading",{index:this.index});else if("failed"===this.status)$.slideshareEventManager.trigger("slideloadfailed",{index:this.index});else{this.status="loading";$.slideshareEventManager.trigger("slideloading",{index:this.index});for(var a in this.resources)resource=
this.resources[a],resource.status="loading",resource.load()}};SSSlide.prototype.updateResource=function(a,b){"undefined"!==typeof this.resources[a]&&this.resources[a].update(b)};SSSlide.prototype.displayError=function(a,b){this.empty();a.appendTo(this.currentViewMode.wrapper);var c=this,d=a.find("input");b?d.hide():d.bind("click",function(a){a.preventDefault();a.stopPropagation();c.reset();c.load()})};
SSSlide.prototype.paint=function(){"undefined"===typeof this.currentViewMode.imageElement&&this.render();this.currentViewMode.imageElement.css({width:this.currentViewMode.width});if("html"===this.config.slideMode){var a;a=Modernizr.csstransforms?{"-moz-transform":"scale("+this.currentViewMode.contentScale+")","-webkit-transform":"scale("+this.currentViewMode.contentScale+")","-o-transform":"scale("+this.currentViewMode.contentScale+")",msTransform:"scale("+this.currentViewMode.contentScale+")","-moz-transform-origin":"0 0",
"-webkit-transform-origin":"0 0","-o-transform-origin":"0 0",msTransformOrigin:"0 0"}:{zoom:this.currentViewMode.contentScale};this.currentViewMode.contentElement.css({width:this.currentViewMode.width,height:this.currentViewMode.height});this.currentViewMode.contentElement.children(".ssml_div").css(a);this.areLinksEnabled()||this.currentViewMode.contentElement.find(".ssml_a").remove()}else"image"===this.config.slideMode&&!0!==this.config.show_image_player&&this._updateLinks()};
SSSlide.prototype.isFullscreen=function(){return"fullscreen"===this.currentMode||"nativefullscreen"===this.currentMode};
SSSlide.prototype.render=function(){this.empty();var a,b,c=this;$.slideshareEventManager.getCurrentPosition();switch(this.config.slideMode){case "html":a=$("<img/>").css({height:"auto",position:"absolute",top:0,left:0,margin:0,padding:0});b=this.resources.image.getContent();break;case "image":a=this.$imageEle,b=this.isFullscreen()||638<this.$stage.width()?this.$imageEle.data("full"):320>=this.$stage.width()?this.$imageEle.data("small"):this.$imageEle.data("normal")}if("undefined"!==typeof b){this.imageEle=
a;this.currentViewMode.imageElement=a;var d=new Image;d.onload=function(){var a=c.controller.currentPosition,d=c.$slide.height(),g=c.$stage.scrollTop();c.$slide.css("min-height",0);c.controller.firstLoad="undefined"===typeof c.controller.firstLoad?!0:!1;c.currentViewMode.imageElement.attr({src:b});"infographic"===c.config.playerType&&c.addScrollIfNeeded();"document"===c.config.playerType&&(d=c.$slide.height()-d,c.controller.firstLoad&&!isMobile()&&(c.controller.currentComponentSet.slidedisplayer.$slides.css("min-height",
c.$slide.height()),g+=d*(a-2)),c.index<a&&c.$stage.scrollTop(g+d));$(window).trigger("resize");a=function(){c.loadLinks()};c.config.show_image_player&&("complete"===document.readyState?a():window.addEventListener?window.addEventListener("load",a,!1):window.attachEvent&&window.attachEvent("onload",a));"function"===typeof isIos&&isIos()&&$(this).css("-webkit-backface-visibility","hidden");"slideview"===c.config.hosted_in&&!c.config.show_image_player&&(a=$(this).height(),$(this).css("height","auto"),
g=$(this).height(),a!==g&&!window.slideResizeEventFired&&(window.slideResizeEventFired=!0,a=c.config.ssid,g="00",d=/slide-(\d+)-.*/,d.test(this.src)&&(g=this.src.match(d)[1]),$.slideshareEventManager.trackRawEvent("jsplayer_debug","slideresize",a+"_slide_"+g)),$(this).css("height","auto"))};d.src=b;this.config.show_image_player||a.appendTo(this.currentViewMode.wrapper);"html"===this.config.slideMode&&(a="<style>"+this.resources.html.getContent().style+"</style>",$(a).appendTo(this.currentViewMode.wrapper),
this.currentViewMode.contentElement=$("<div/>").css({position:"absolute",overflow:"hidden"}).html(this.resources.html.getContent().html),this.currentViewMode.contentElement.appendTo(this.currentViewMode.wrapper))}};SSSlide.prototype.addScrollIfNeeded=function(){this.$imageEle.height()>this.$slide.height()+15&&this.$slide.css("overflow-y","auto")};
SSSlide.prototype.areLinksEnabled=function(){return this.config.is_render_all_links||"undefined"!==typeof slideshare_object&&slideshare_object.user.su?!0:-1!==$.inArray(this.index,[1,2,3])?!1:!0};
SSSlide.prototype.loadLinks=function(){var a=this;!0===a.controller.linksLoaded?this.renderLinksForSlide():$.jsonp({url:a.config.bucketLocation+"/meta.js?"+this.config.timestamp,callback:"slideshare_jsonp_meta_hook_trigger",cache:!0,timeout:1E4,success:function(b){a.controller.links=b.links;a.controller.linksLoaded=!0;a.renderLinksForSlide();a.controller.slideAspectRatio=b.sizes[1].height/b.sizes[1].width;a.controller.updateEmbedSizes()}})};
SSSlide.prototype.renderLinksForSlide=function(){if(this.areLinksEnabled()){var a="#"+this.controller.config.container,b=this.index-this.config.linkOffset;if(!("undefined"===typeof this.controller.links||"undefined"===typeof this.controller.links[b])){var c=this.imageEle,d=c.naturalWidth(),e=c.naturalHeight(),b=this.controller.links[b].links,f=b.length,g,h,k,l="image_map_"+this.index+"_"+(new Date).getTime();void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove();
this.currentViewMode.imageMapId=l;var n='<map id="'+l+'" name="'+l+'">';for(g=0;g<f;g++)h=b[g],k=[parseInt((h.box[0]||0)*d/100,10),parseInt((h.box[3]||0)*e/100,10),parseInt((h.box[2]||0)*d/100,10),parseInt((h.box[1]||0)*e/100,10)],k=k.join(","),n=n+'<area shape="rect" target="_blank" coords="'+k+'" href="'+h.url+'" rel="nofollow" />';$(n+"</map>").appendTo(a+" .image_maps");c.attr("usemap","#"+l);$(document).ready(function(){c.rwdImageMaps()});$("map area").click(function(a){$.slideshareEventManager.trackOutboundClick(a.target.href)})}}};
SSSlide.prototype._updateLinks=function(){void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove();this._renderLinks()};
SSSlide.prototype._renderLinks=function(){var a=this.resources.image.links;if(void 0!==a){var b=this.currentViewMode.width,c=this.currentViewMode.height,d=a.length,e,f,g,h="image_map_"+this.currentMode+"_"+this.index+parseInt(2500*Math.random(),10),k='<map id="'+h+'" name="'+h+'">';for(e=0;e<d;e++)f=a[e],g=[parseInt((f.box[0]||0)*b/100,10),parseInt((f.box[3]||0)*c/100,10),parseInt((f.box[2]||0)*b/100,10),parseInt((f.box[1]||0)*c/100,10)],g=g.join(","),k=k+'<area shape="rect" coords="'+g+'" href="'+
f.url+'" rel="nofollow" />';$(k+"</map>").appendTo(this.currentViewMode.wrapper);this.currentViewMode.imageElement.attr("usemap","#"+h);this.currentViewMode.imageMapId=h}};SSSlide.prototype._getNewResourceVersions=function(){this.resources.image._tryLoad(this.currentViewMode.wrapperWidth)};SSSlide.prototype.updateRenderedResourceVersion=function(a){this.currentViewMode.rendered&&"image"===a&&void 0!==this.currentViewMode.imageElement&&this.currentViewMode.imageElement.attr({src:this.resources.image.getContent()})};
SSSlide.prototype._bindEvents=function(){};function SSSlideDisplayer(a){"undefined"!==typeof a&&(this.config=a,this.slideOffsets=[],this.playerBgColor=a.playerBgColor||"jsplBgColorBigfoot",this.state="initialized",this.zoomIndex=0,this._init())}SSSlideDisplayer.prototype._init=function(){this.config.show_image_player?this.container=$(".stage"):(this.container=$("<div/>").addClass("slideDisplayer "+this.playerBgColor).appendTo(this.config.renderTo),this.showInitializer())};
SSSlideDisplayer.prototype.hideInitializer=function(){!this.config.show_image_player&&this.container.empty()};SSSlideDisplayer.prototype.error=function(a){this.hideInitializer();a.appendTo(this.container)};SSSlideDisplayer.prototype.zoomin=function(){var a=this.zoomIndex+1;a!==this.zoomLevels.length&&(this.zoomIndex=a,this.setZoom(a),$(this).trigger("zoomchanged"))};SSSlideDisplayer.prototype.zoomout=function(){0!==this.zoomIndex&&(this.zoomIndex-=1,this.setZoom(this.zoomIndex),$(this).trigger("zoomchanged"))};
SSSlideDisplayer.prototype.activate=function(){};SSSlideDisplayer.prototype.deactivate=function(){};SSSlideDisplayer.prototype.destroy=function(){this.container.remove()};SSSlideDisplayer.prototype._bindEvents=function(){};SSSlideDisplayer.prototype.refresh=function(a){var b=this;$.each(a,function(a,d){b.config[a]&&(b.config[a]=d)})};function SSTouchInteraction(a){this.config=a;this._init()}SSTouchInteraction.prototype._init=function(){this.touch={active:!1};this._bindEvents()};
SSTouchInteraction.prototype.scrollVariables=function(){this.slideHeight=$(".verticalStack").height();this.scrollBottomOffset=2*this.slideHeight};SSTouchInteraction.prototype.loadNextSlides=function(a){var a=a.data.touch,b=$(window).scrollTop();if($(".slideShow").height()-b<a.scrollBottomOffset)for(a=0;2>a;a++)$.slideshareEventManager.trigger("next",{source:"scroll_next"})};
SSTouchInteraction.prototype.loadNextSlide=function(a){a=$(a.target);a.hasClass(".verticalStack")||(a=a.closest(".verticalStack"));var b=parseInt(a.attr("touchCount"),10),c=parseInt(a.attr("slideNumber"),10);isNaN(c)&&(c=parseInt($("div[touchcount]").last().attr("slidenumber"),10));isNaN(b)?(a.attr("touchCount",1),$.slideshareEventManager.trigger("next",{source:"scroll_next",touchedSlideNo:c}),window._gaq.push(["_trackEvent","jsplayer","slideTouched",config.player_type])):3>b&&(a.attr("touchCount",
b+1),$.slideshareEventManager.trigger("next",{source:"scroll_next",touchedSlideNo:c}));1===c&&1<b||90===window.orientation||-90===window.orientation?updateSlideNumber(c):updateSlideNumber(c+1)};SSTouchInteraction.prototype.getTouchEvent=function(){return"ontouchstart"in window?"touchstart":window.navigator.msPointerEnabled?"MSPointerDown":"click"};
SSTouchInteraction.prototype.slideNextOnScroll=function(){var a=this;if(!config.scroll_test)$("#slideshow").on(this.getTouchEvent(),function(b){a.loadNextSlide(b)});$("#more-slide").on("click",function(b){window._gaq.push(["_trackEvent","jsplayer","LoadMoreSlide",config.player_type]);a.loadNextSlide(b)})};
SSTouchInteraction.prototype.activate=function(){var a=$(".hideControls"),b=$(".slideShow"),c=$.slideshareEventManager,d=this.getTouchEvent(),e=this,f=0<window.innerWidth?window.innerWidth:screen.width,g=this.config.container.width();"embed"===this.config.hostedIn&&f<g&&$("body").width(f);a.show();$("#slide_next_mobile").on(d,function(a){a.preventDefault();c.trigger("next",{source:"tap_next"});window._gaq.push(["_trackEvent","jsplayer","mobile_next",config.real_player_type])});$("#slide_previous_mobile").on(d,
function(a){a.preventDefault();c.trigger("previous",{source:"tap_previous"});window._gaq.push(["_trackEvent","jsplayer","mobile_prev",config.real_player_type])});if("undefined"!==typeof new_mobile_player){$("#slide-end").live(d,function(){$(window).scrollTop(0)});this.slideNextOnScroll();$("#play-icon").on(this.getTouchEvent(),function(a){a.stopPropagation();"undefined"!==typeof e.containerHeight?b.height(e.containerHeight):b.height(2*$(".verticalStack").height());$("#play-icon, .presentationSharing, #more-related-content").hide();
$("#view-done, #view-save, #slidecount, #more-slide").show();$(".header").removeClass("fixed-header");config.scroll_test&&(e.scrollVariables(),$(window).bind("scroll",{touch:e},e.loadNextSlides));c.trigger("mobileScrollPlayingMode","play");window._gaq.push(["_trackEvent","jsplayer","Mobile_PlayButton",config.player_type])});$("#view-done").on(this.getTouchEvent(),function(a){a.stopPropagation();a.preventDefault();e.containerHeight=b.height();b.height($(".verticalStack").height());$("#view-done, #view-save, #slidecount, #more-slide, #slide-end").hide();
$(".header").addClass("fixed-header");c.trigger("mobileScrollPlayingMode","pause");$.mobile.silentScroll(0);$(".presentationSharing, #more-related-content").show();$("#play-icon").css("display","table");config.scroll_test&&$(window).unbind("scroll",e.loadNextSlides);window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewDoneButton",config.player_type])});var h=$("#view-save");h.on(this.getTouchEvent(),function(a){a.stopPropagation();a.preventDefault();h.hasClass("mobile_view_saved")||(h.addClass("mobile_view_saved"),
a=h.data("save-url"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Click",config.player_type]),$.ajax({url:a,success:function(a){a.success?(h.text("Saved"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Success",config.player_type])):(h.removeClass("mobile_view_saved"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Failure",config.player_type]))},error:function(){h.removeClass("mobile_view_saved");window._gaq.push(["_trackEvent","jsplayer",
"Mobile_ViewSaveButton_Error",config.player_type])}}))});$(document).bind("touchmove",function(){h.is(":visible")&&(h.addClass("scrolling-hide"),$("#view-done, #view-save").hide())});$(document).bind(this.getTouchEvent(),function(){h.hasClass("scrolling-hide")&&(h.removeClass("scrolling-hide"),$("#view-done, #view-save").show())})}else a.on(d,function(){var a=parseInt($(".current_slide_number").text(),10),b=$(".previous .ui-btn-inner"),c=$(".next .ui-btn-inner"),d=$(".landscape-full-screen-slidecount");
d.show();setTimeout(function(){d.hide()},1E3);1!==a&&(b.show(),setTimeout(function(){b.hide()},1E3));a!==parseInt($("#total_slides_number").text(),10)?(c.show(),setTimeout(function(){c.hide()},1E3)):setTimeout(function(){$(".lastScreen").css("z-index",99999)},2E3);4===a&&$(".navIcons").removeClass("highlight")})};SSTouchInteraction.prototype.deactivate=function(){};SSTouchInteraction.prototype.destroy=function(){};SSTouchInteraction.prototype._bindEvents=function(){};
function SSFontResource(a){this.resourceTemplate={prefix:a.baseUrl,cacheable:!0,retries:2,isCritical:!1};SSResource.call(this,a)}SSFontResource.prototype=new SSResource;SSFontResource.prototype._initResourceConfig=function(){var a=this.resourceTemplate;this.url=a.prefix+"meta-"+this.config.indexString+this.config.suffix+"?"+this.config.timestamp;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical};
SSFontResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_font_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};SSFontResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){a.status="cached";$.slideshareEventManager.trigger("fontresourceloaded",{style:b.style})}};
SSFontResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},1E3)):$.slideshareEventManager.trigger("fontloadfailed",{})}};
function SSHtmlResource(a){this.resourceTemplate={prefix:a.baseUrl,key:"page_",suffix:".js?"+a.timestamp,digitLength:4,cacheable:!0,retries:2,isCritical:!0};a.is_private&&void 0===a.signature&&(this.loadBlocked=!0);SSResource.call(this,a)}SSHtmlResource.prototype=new SSResource;SSHtmlResource.prototype.ready=function(){this._initResourceConfig();this.loadBlocked=!1;"loading"===this.status&&this.load()};
SSHtmlResource.prototype._initResourceConfig=function(){if(!(this.config.is_private&&void 0===this.config.signature)){var a=this.resourceTemplate,b=this.config.indexGenerator(this.config.realIndex,a.digitLength);this.url=this.config.is_private?a.prefix+a.key+b+".js"+this.config.signature:a.prefix+a.key+b+a.suffix;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical}};SSHtmlResource.prototype.updateSignature=function(a){this.config.signature=a};
SSHtmlResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};
SSHtmlResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){var c=b.style.replace(/a\.ssml_a \{.*?\}/,"").replace(/\.ssml_div span \{.*?\}/,"").replace(/\.ps([\s\S]*?)\{[\s\S]*?\}/g,"").replace(/@font-face[\s\S]*?\{[\s\S]*?\}/g,"");a.html=b.html;a.style=c;$.slideshareEventManager.trigger("resourceloaded",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};SSHtmlResource.prototype.getContent=function(){return{html:this.html,style:this.style}};
function SSImageResource(a){"undefined"!==typeof a&&(a.availableSizes?(this.imageVersions=this._mapSizesToVersions(a.availableSizes),delete a.availableSizes,this._setUrlGenerator(a.is_private)):this.loadBlocked=!0,this.contentWidth=a.contentWidth,delete a.contentWidth,SSResource.call(this,a),this.RETRY_WAIT_TIME=1E3,delete this.imageVersions)}SSImageResource.prototype=new SSResource;
SSImageResource.prototype._initResourceConfig=function(){if(void 0!==this.imageVersions){var a=this.resourceTemplate;this.indexString=this.config.indexGenerator(this.config.realIndex,a.digitLength);this.suffixes=this._getSuffixes();this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical;this.privateUrls={}}};SSImageResource.prototype._getUrl=function(a){return a[a.length-1].url};
SSImageResource.prototype._mapSizesToVersions=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&(b[parseInt(c,10)]=a[c]);return b};SSImageResource.prototype._setUrlGenerator=function(a){a?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrl):this._generateUrl=this._generateUrl};SSImageResource.prototype.delayedInitialize=function(a){this.imageVersions=this._mapSizesToVersions(a.availableSizes);this.contentWidth=a.contentWidth;this._setUrlGenerator(a.is_private);a.is_private||this.ready()};
SSImageResource.prototype.ready=function(){this._initResourceConfig();delete this.imageVersions;this.loadBlocked=!1;"loading"===this.status&&this.load()};
SSImageResource.prototype._tryLoad=function(a){var a=a||this.config.playerWidth,a=this._getAppropriateWidth(a),b=this.suffixes[a],c;c=this._getUrl(b);a===this.currentWidth&&"initialized"!==b.status||("failed"===b.status?this.versionErrorInternalHandler(a,c)():(this.currentWidth=a,"loading"!==b.status&&("loaded"===b.status?this.versionLoadedInternalHandler(a,c)():(b.status="loading",void 0===b.startTime&&(b.startTime=(new Date).getTime()),this.config.show_image_player&&(c=$(".slide").eq(this.config.realIndex-
1).children(),c=this.config.isFullScreen?c.data("full"):c.data("normal")),b=new Image,$(b).bind("load",this.versionLoadedInternalHandler(a,c)).bind("error",this.versionErrorInternalHandler(a)),void 0!==c&&(b.src=c)))))};
SSImageResource.prototype.versionLoadedInternalHandler=function(a,b){var c=this;return function(){c.suffixes[a].status="loaded";"loading"===c.status?(c.url=b,c.resourceLoadedInternalHandler()()):"cached"===c.status&&a===c.currentWidth&&(c.url=b,$.slideshareEventManager.trigger("currentversionloaded",{index:c.config.slideIndex,resourceKey:c.resourceKey}))}};
SSImageResource.prototype.versionErrorInternalHandler=function(a){var b=this;return function(){var c=b.suffixes[a],d=c.startTime,d=(new Date).getTime()-d,e=c.retries;if(0<e&&d<b.TIMEOUT_LIMIT)c.retries=e-1,c.status="initialized",setTimeout(function(){b._tryLoad()},b.RETRY_WAIT_TIME);else if(c.status="failed","loading"===b.status&&a===b.currentWidth){var c=!1,f;for(f in b.suffixes)if(d=b.suffixes[a],"loading"===d.status||"loaded"==d.status)c=!0;c||b.resourceErrorInternalHandler()()}}};
SSImageResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(){$.slideshareEventManager.trigger("resourceloaded",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};SSImageResource.prototype.getContent=function(){var a=this.suffixes[this.currentWidth];if("loaded"===a.status)return this.url;for(var b in this.suffixes)if(a=this.suffixes[b],"loaded"===a.status)return url=this._getUrl(a);return this.url};
SSImageResource.prototype._getAppropriateWidth=function(a){var b,c,d;b=this.suffixes;var e=[];for(c in b)c=parseInt(c,10),b.hasOwnProperty(c)&&e.push(c);e.sort(function(a,b){return a-b});426>a&&2<=window.devicePixelRatio&&(a=638);for(b=0;b<e.length;b++)if(d=c=e[b],a<=c)return c;return d};function SSMetaResource(a){this.resourceTemplate={url:a.url,cacheable:!0,retries:2,isCritical:!0};SSResource.call(this,a)}SSMetaResource.prototype=new SSResource;
SSMetaResource.prototype._initResourceConfig=function(){var a=this.resourceTemplate;this.url=a.url+"?"+this.config.timestamp;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical};SSMetaResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_meta_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};
SSMetaResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){a.status="loaded";$.slideshareEventManager.trigger("metadataloaded",{type:a.config.type,json:b})}};SSMetaResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},1E3)):$.slideshareEventManager.trigger("metadataloadfailed",{type:a.config.type})}};
function SSBgImageResource(a){this.resourceTemplate={prefix:a.baseUrl,digitLength:3,cacheable:!0,retries:0,isCritical:!0};this.useTimeStamp=!0;var b=a.availableSizes;this.imageVersions=[];for(var c in b)this.imageVersions[parseInt(c,10)]=b[c];a.is_private?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrl):this._generateUrl=this._generateUrl;SSImageResource.call(this,a)}SSBgImageResource.prototype=new SSImageResource;
SSBgImageResource.prototype._generateUrl=function(a,b,c){return this.config.baseUrl+"images/"+parseInt(c,10)+"/slide-"+a+"-"+b+".jpg?cb="+this.config.timestamp};SSBgImageResource.prototype._generatePrivateUrl=function(a,b,c){return this.config.baseUrl+"images%2F"+parseInt(c,10)+"%2Fslide-"+a+"-"+b+".jpg"+this.config.privateImageSignatures[b][c].url};
SSBgImageResource.prototype._getSuffixes=function(){var a={},b=this.imageVersions,c,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d)){d=parseInt(d,10);e=b[d];a[d]=[];f=e.length;for(c=0;c<f;c++)g=parseInt(e[c],10),h={url:this._generateUrl(this.indexString,d,e[c]),status:"initialized",retries:2},a[d][isNaN(g)?75:g]=h}return a};function SSFallbackImageResource(a){this.resourceTemplate={prefix:a.baseUrl,digitLength:1,cacheable:!0,retries:0,isCritical:!0};this.useTimeStamp=!0;SSImageResource.call(this,a)}
SSFallbackImageResource.prototype=new SSImageResource;SSFallbackImageResource.prototype._generateUrl=function(a,b,c){return this.config.baseUrl+"/"+c+"/slide-"+a+"-"+b+".jpg?"+this.config.timestamp};SSFallbackImageResource.prototype._generatePrivateUrl=function(a,b,c){return"undefined"===typeof this.config.privateImageSignatures?"":this.config.baseUrl+"%2F"+c+"%2Fslide-"+a+"-"+b+".jpg"+this.config.privateImageSignatures[b][c].url};
SSFallbackImageResource.prototype._getSuffixes=function(){var a=[],b=this.imageVersions,c,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d)){d=parseInt(d,10);f=b[d];a[d]=[];h=f.length;for(c=0;c<h;c++)g=parseInt(f[c],10),e={url:this._generateUrl(this.indexString,d,g),status:"initialized",retries:2},a[d][g]=e}return a};SSFallbackImageResource.prototype.addLinks=function(a){this.links=a.links||[]};SSFallbackImageResource.prototype.addSignature=function(a){this.config.privateImageSignatures=a};
function SSInfographicDisplayer(a){"undefined"!==typeof a&&SSSlideDisplayer.call(this,a)}SSInfographicDisplayer.prototype=new SSSlideDisplayer;
SSInfographicDisplayer.prototype.start=function(a){"undefined"===typeof this.slidesContainer&&(this.slidesContainer=$(".slide_container"),this.bindEvents());this.config.playerBgColor&&(this.playerBgColor=this.config.playerBgColor);this.slides=a.slides;this.slide=this.slides[1];this.slideContainer=this.slidesContainer.children(".slide");this.slide.setContainer({mode:a.mode,bgColor:this.playerBgColor,container:this.slideContainer})};
SSInfographicDisplayer.prototype.bindEvents=function(){this.config.isMobileDevice||this.slidesContainer.bind("click",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("viewfullscreen")})};SSInfographicDisplayer.prototype.setDimensions=function(a){"object"===typeof a&&(this.config.width=a.width,this.config.height=a.height)};SSInfographicDisplayer.prototype.emptySlides=function(){};SSInfographicDisplayer.prototype.setPrerenderedSlides=function(){};
SSInfographicDisplayer.prototype.showInitializer=function(){this.config.show_image_player||$("<div/>").addClass(".jsplInitializer").css({width:this.container.width()-10,height:this.container.height()-20}).html("Loading...").appendTo(this.container)};SSInfographicDisplayer.prototype._scrollTo=function(a){if(this.config.show_image_player){var b=this.slidesContainer.children();b.removeClass("show");b.eq(a-1).addClass("show")}};
function SSInfographicSlide(a){SSSlide.call(this,a);this.padding=5;this.bindScrollEvents()}SSInfographicSlide.prototype=new SSSlide;SSInfographicSlide.prototype.empty=function(){};
SSInfographicSlide.prototype.setContainer=function(a){var b=a.mode;void 0===this.viewModes[b]&&(this.viewModes[b]={rendered:!1,bgColor:a.bgColor||"jsplBgColorBigfoot",container:a.container,wrapper:$("<div/>")});this.viewModes[b].container.css({position:"relative"});this.currentViewMode=this.viewModes[b];this.currentViewMode.wrapper.removeClass("hide");this.currentMode=a.mode};SSInfographicSlide.prototype.show=function(a){if(!this.currentViewMode.rendered||a)this.currentViewMode.rendered=!0,this.load()};
SSInfographicSlide.prototype.hide=function(){this.$slide.hide()};SSInfographicSlide.prototype.displayLoading=function(){};
SSInfographicSlide.prototype.bindScrollEvents=function(){var a=this;$(document).ready(function(){var b=parseInt($("#main_navbar").css("padding-bottom"),10),c=$("#svPlayerId"),d=parseInt(c.css("height"),10);if(550>d)$(".j-slideshow-title").removeClass("infographicHoverTitle");else{var e=!0;setInterval(function(){e=!0},10);if("infographic"===a.config.playerType)$(window).on("scroll",function(){if(e&&c&&c.offset()){e=!1;var a=c.offset().top-b,g=$(this).scrollTop(),h=d+a-550;g>h&&(g=h);h=$.slideshareEventManager.getController();
h="nativefullscreen"===h.currentViewMode||"fullscreen"===h.currentViewMode;g>a&&!h?($(".action-btns-container").css("top",8+g-a+"px"),$(".modal-popup").css("top",0+g-a+"px"),a=$(this).scrollTop()+$(this).height()-c.height()-c.offset().top,$(".j-slideshow-title").toggleClass("infographicHoverTitle",0>=a)):($(".action-btns-container").css("top","20px"),$(".modal-popup").css("top","0px"))}})}})};
function SSPresentationDisplayer(a){"undefined"!==typeof a&&(SSSlideDisplayer.call(this,a),this.zoomLevels=[1],this.prerenderedSlides=[],!a.isTouch&&this.initPointlyFinger())}SSPresentationDisplayer.prototype=new SSSlideDisplayer;SSPresentationDisplayer.prototype.initPointlyFinger=function(){this.rightbandInteraction=$("<div/>").attr({"class":"rightpoint pointly"}).insertAfter(this.container);this.leftbandInteraction=$("<div/>").attr({"class":"leftpoint pointly"}).insertAfter(this.container)};
SSPresentationDisplayer.prototype._scrollTo=function(a){if("playing"===this.state)if(this.config.show_image_player){var b=this.slidesContainer.children();b.removeClass("show");b.eq(a-1).addClass("show")}else"function"==typeof isIos&&isIos(),this.slidesContainer.css("margin-left",-1*this.slideOffsets[a])};
SSPresentationDisplayer.prototype.start=function(a){var b,c;void 0===this.slideContainers&&(this.slideContainers=[]);var d=this.slideContainers;if(void 0===this.slides){this.slides=a.slides;this.state="playing";this.hideInitializer();this.slidesContainer=this.config.show_image_player?$(".slide_container"):$("<div/>").appendTo(this.container);for(b=1;b<=this.config.slideCount;b++)d[b]=this.config.show_image_player?$(".slide").eq(b-1):$("<div/>").appendTo(this.slidesContainer)}!this.config.show_image_player&&
this.slidesContainer.removeClass(this.playerBgColor).addClass("slidesContainer "+a.playerBgColor);a.playerBgColor&&(this.slidesContainer.removeClass(this.playerBgColor),this.playerBgColor=a.playerBgColor,this.slidesContainer.addClass(this.playerBgColor));for(b=1;b<=this.config.slideCount;b++)c=this.slides[b],c.setContainer({mode:a.mode,container:d[b],bgColor:this.playerBgColor,slideNumber:b})};
SSPresentationDisplayer.prototype.showInitializer=function(){var a,b;a=this.container.height()/2-16;b=this.container.width()/2-16;$("<img/>").attr({src:this.config.spinnerUrl,"class":"jsplInitializer"}).css({width:32,height:32,top:a,left:b}).appendTo(this.container)};
SSPresentationDisplayer.prototype.setDimensions=function(a){"object"===typeof a&&(this.config.width=a.width,this.config.height=a.height);a=a&&a.partial;!this.config.show_image_player&&this.container.css({height:this.config.height,width:this.config.width});if(!a&&"playing"===this.state){this.panelWidth=0;var b,c;c=0;for(a=1;a<=this.config.slideCount;a++)b=this.slides[a],!this.config.show_image_player&&b.setDimensions({parentHeight:this.config.height,parentWidth:this.config.width}),this.slideOffsets[a]=
c,c+=b.wrapperOffset();this.slidesContainer.width(c);this.width=c}};SSPresentationDisplayer.prototype.setPrerenderedSlides=function(a){var b;for(b=a.start;b<=a.end;b++)-1===$.inArray(b,this.prerenderedSlides)&&this.prerenderedSlides.push(b)};SSPresentationDisplayer.prototype.emptySlides=function(){for(var a in this.slides){var b=this.slides;b.hasOwnProperty(a)&&b[a].hide()}this.prerenderedSlides=[]};function SSPresentationSlide(a){SSSlide.call(this,a);this.PADDING=0}
SSPresentationSlide.prototype=new SSSlide;SSPresentationSlide.prototype.wrapperOffset=function(){return this.currentViewMode.wrapperWidth};SSPresentationSlide.prototype.empty=function(){"undefined"!==typeof this.currentViewMode.wrapper&&this.currentViewMode.wrapper.empty()};
SSPresentationSlide.prototype.displayLoading=function(){var a,b;a=this.currentViewMode.height/2-16;b=this.currentViewMode.width/2-16;this.empty();this.spinnerUrl=this.isFullscreen()?this.config.spinnerUrlFullscreen:this.config.spinnerUrl;$("<img/>").attr({src:this.spinnerUrl}).css({width:32,height:32,top:a,left:b,position:"absolute"}).appendTo(this.currentViewMode.wrapper)};
SSPresentationSlide.prototype.setDimensions=function(a){var b,c,d,e,f=a.parentWidth,g=a.parentHeight,h=f/g;void 0===this.contentWidth||void 0===this.contentHeight?(b=f,c=g,e=d=h,$.slideshareEventManager.trackRawEvent("jsplayer_debug","no_content_meta_info","st_"+this.config.stripped_title)):(b=this.contentWidth,c=this.contentHeight,d=b/c,e=b/(c-20));var k;e>h?(b=f/b,c=16*b,e=f,k=h/d,h=0,d=100*((1-k)/2)+"%",a=k*a.parentHeight):(b=g/c,c=16*b,k=d/h,d=0,h=100*((1-k)/2)+"%",e=k*a.parentWidth,a=g);e=parseInt(e,
10);a=parseInt(a,10);this.currentViewMode.container.css({width:f,height:g});!this.config.show_image_player&&this.currentViewMode.wrapper.css({width:e,height:a,top:d,left:h,position:"absolute",padding:this.PADDING,overflow:"hidden"});this.currentViewMode.wrapperWidth=f;this.currentViewMode.wrapperHeight=g;this.currentViewMode.top=d;this.currentViewMode.left=h;this.currentViewMode.contentScale=b;this.currentViewMode.fontscale=c;this.currentViewMode.width=e;this.currentViewMode.height=a};
SSPresentationSlide.prototype.hide=function(){this.currentViewMode.rendered&&(this.empty(),delete this.currentViewMode.contentElement,delete this.currentViewMode.imageElement,this.currentViewMode.rendered=!1)};SSPresentationSlide.prototype.show=function(a){if(!this.currentViewMode.rendered||a)this.currentViewMode.rendered=!0,this.load()};SSPresentationSlide.prototype.play=function(){this.show()};
SSPresentationSlide.prototype.setContainer=function(a){var b=a.mode,c=this.viewModes[b],d=!1;this.config.isStartSlide&&this.config.show_image_player&&(d=!0);d={rendered:d,container:a.container};void 0===c?(this.config.show_image_player||(d.wrapper=$("<div/>").appendTo(a.container)),c=d):"nativefullscreen"==b&&(this.config.show_image_player||(d.wrapper=this.currentViewMode.wrapper),c=d);this.config.show_image_player||(c.container.removeClass(),d=a.bgColor||"jsplBgColorBigfoot",d="undefined"===typeof new_mobile_player?
d+" horizontalStack":d+" verticalStack",c.container.addClass(d));(d=a.slideNumber)&&c.container.attr("slideNumber",d);this.currentViewMode=this.viewModes[b]=c;this.currentMode=a.mode};
function SSToolbar(a){this.config=a;this.GA_EVENTS={viewonss:"toolbar_viewonss",zoomin:"toolbar_zoomin",zoomout:"toolbar_zoomout",viewfullscreen:"toolbar_fullscreen",leavefullscreen:"toolbar_leavefullscreen",gotolastslide:"goto_last_slide",gotofirstslide:"goto_first_slide"};this.GA_EVENTS_SRC={previous:"toolbar_prev",next:"toolbar_next"};this._init();this._ELEMENTS=this.getElements(a.elementOverrides);this._ELEMENT_PRIORITIES={1:["nav"],5:["viewOnSS"],2:["fullScreen","leaveFullScreen"],3:["share"],
4:["goToSlide"],6:["zoomButtons"]};this._BUTTONS=this.getButtons({btnFirst:".btnFirst",btnPrevious:".btnPrevious",btnNext:".btnNext",btnLast:".btnLast",btnSS:".btnSS",btnViewOnSS:".btnViewOnSS",btnFullScreen:".btnFullScreen",btnLeaveFullScreen:".btnLeaveFullScreen",btnZoomOut:".btnZoomOut",btnZoomIn:".btnZoomIn",btnFind:".btnFind",btnShare:".btnShare",btnAudio:".btnAudio",btnVolume:".btnVolume"},a.buttonOverrides);this._ELEMENT_VISIBILITY={share:!this.config.disableShare,fullScreen:!this.config.disableFullScreen&&
!this.config.isFullScreen,leaveFullScreen:!this.config.disableLeaveFullScreen&&this.config.isFullScreen,viewOnSS:this.config.enableViewSS,zoomButtons:this.config.enableZoomButtons||!1,nav:!this.config.disableNav,goToSlide:!this.config.disableGoToSlide};this._ELEMENT_SECTION={nav:"one",share:"two",fullScreen:"two",leaveFullScreen:"two",goToSlide:"two",viewOnSS:"one",zoomButtons:"two"};a={small:29,normal:88};"document"==this.config.playerType||"infographic"===this.config.playerType?(this._ELEMENT_WIDTHS=
{nav:30,share:72,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:a[this.config.toolbarClass],zoomButtons:56},this._ELEMENT_SECTION.share="one"):this._ELEMENT_WIDTHS={nav:57,share:35,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:a[this.config.toolbarClass]};this.config.toolbarPadding=6}
SSToolbar.prototype._init=function(){var a=this.container=this.config.show_image_player?$(".toolbar"):$("<div/>").attr({"class":"toolbar"}).css({height:this.config.height}).html(this.config.html).appendTo(this.config.renderTo);this.config.toolbarClass=this._getToolbarClass();this.container.addClass(this.config.toolbarClass);this.config.disableShare&&a.find(".btnShare").hide();this.config.enableViewSS&&a.find(".btnViewOnSS").show();this.config.isFullScreen&&(a.find(".btnFullScreen").hide(),a.find(".btnLeaveFullScreen").show());
"video"===this.config.playerType&&(this.volumeControl=new SSVolumeControl({container:a.find(".jspl_volume_control"),renderTo:a,trigger:a.find(".btnVolume"),player:this.config.renderTo}),this.audioActive=!0);a.find(".goToSlideLabel>span").html("/"+this.config.totalSlideCount)};
SSToolbar.prototype._initForNativeFullScreen=function(){this._ELEMENT_VISIBILITY.fullScreen=!this.config.disableFullScreen&&!this.config.isFullScreen;this._ELEMENT_VISIBILITY.leaveFullScreen=!this.config.disableLeaveFullScreen&&this.config.isFullScreen};SSToolbar.prototype._getToolbarClass=function(){var a="";return a=400>this.config.width?"small":"normal"};SSToolbar.prototype.resetButtons=function(a){this._unbindButtonHandler(a);this._bindButtonHandler(a)};
SSToolbar.prototype.getElements=function(a){var b=this.container,c={};$.each({nav:".nav",share:".btnShare",fullScreen:".btnFullScreen",leaveFullScreen:".btnLeaveFullScreen",viewOnSS:".btnViewOnSS",goToSlide:".goToSlideLabel",zoomButtons:".docActions"},function(d,e){c[d]=a&&a[d]?$(a[d]):b.find(e)});return c};SSToolbar.prototype.getButtons=function(a,b){var c=this,d={};$.each(a,function(a,f){d[a]=b&&b[a]?$(b[a]):c.container.find(f)});return d};
SSToolbar.prototype.deactivate=function(){$.each(this._BUTTONS,function(a,b){b.unbind("click")});this._unbindButtonHandler(this._BUTTONS);this.container.find(".goToSlideLabel>input[type=text]").attr("disabled",!0);this.active=!1;"video"===this.config.playerType&&this._activateAudio()};
SSToolbar.prototype.activate=function(){this._bindButtonHandler({btnViewOnSS:"viewonss",btnFirst:"gotofirstslide",btnSS:"viewonss",btnPrevious:"previous",btnNext:"next",btnLast:"gotolastslide",btnFullScreen:"viewfullscreen",btnLeaveFullScreen:"leavefullscreen",btnZoomOut:"zoomout",btnZoomIn:"zoomin",btnFind:"playersearch",btnShare:"playershare"});var a=this.container.find(".goToSlideLabel>input[type=text]");a.attr("disabled",!1);a.bind("keyup",function(a){a.stopPropagation();13===a.keyCode&&(a=$(a.target).val(),
isNaN(a)||(a=parseInt(a,10),$.slideshareEventManager.trigger("gotoslide",{index:a})))});a.bind("focus",function(a){$(a.target).select()});this.active=!0;"video"===this.config.playerType&&this._activateAudio()};SSToolbar.prototype.updateAudioInteraction=function(a){for(var b in a)this[b]=a[b];"video"===this.config.playerType?this._activateAudio():this.active&&this.audioReady&&this.audioMetaReady?(!this.audioActive&&this._activateAudio(),this._updateAudioDisplay()):this.audioActive&&this._deactivateAudio()};
SSToolbar.prototype._activateAudio=function(){this.container.find(".btnAudio,.btnVolume").removeClass("disabled");this._bindButtonHandler({btnAudio:"toggleaudio",btnVolume:"showvolumecontrol"});this.audioActive=!0};SSToolbar.prototype._deactivateAudio=function(){this.container.find(".btnAudio,.btnVolume").addClass("disabled");this._unbindButtonHandler({btnAudio:null,btnVolume:null});this.audioActive=!1};
SSToolbar.prototype._updateAudioDisplay=function(){this.audioPlaying?this.container.find(".btnAudio").removeClass("btnAudioPlay").addClass("btnAudioPause").attr("title","Pause"):this.container.find(".btnAudio").removeClass("btnAudioPause").addClass("btnAudioPlay").attr("title","Play")};
SSToolbar.prototype._bindButtonHandler=function(a){var b=this;$.each(a,function(a,d){var e=b._BUTTONS[a];e&&(e.unbind(),e.bind("click",function(a){$.slideshareEventManager.trigger(d,{source:b.GA_EVENTS_SRC[d]});a.preventDefault();a.stopPropagation();(a=b.GA_EVENTS[d])&&$.slideshareEventManager.trackEvent(a)}))})};SSToolbar.prototype._unbindButtonHandler=function(a){var b=this;$.each(a,function(a){a=b._BUTTONS[a];a.unbind();a.bind("click",function(a){a.preventDefault();a.stopPropagation()})})};
SSToolbar.prototype.setDimensions=function(a){var b=this,a=a.width/2-b.config.toolbarPadding-b._ELEMENT_WIDTHS[b._ELEMENT_PRIORITIES[1][0]],c={one:a,two:a},d,e,f,g;$.each(this._ELEMENT_PRIORITIES,function(a,k){d=k.length;for(var l=0;l<d;l++){e=k[l];var n=b._ELEMENT_SECTION[e];f=b._ELEMENT_WIDTHS[e];g=b._ELEMENT_VISIBILITY[e]&&c[n]>f;1==a||g?(b._ELEMENTS[e].show(),1!=a&&(c[n]-=f)):b._ELEMENTS[e].hide()}})};SSToolbar.prototype.updateCurrentPosition=function(a){this.container.find(".goToSlideLabel>input[type=text]").val(a)};
SSToolbar.prototype.destroy=function(){this.container.remove()};function SSVideoEmbedSlide(a){SSPresentationSlide.call(this,a);this.config=a;this.PLAYER_UNINITIALIZED=-1;this.PLAYER_AUTOHIDE=2;this.ENABLE_JS_API=1;this.RELATED_VIDEOS=this.PADDING=0;this.playerReady=!1;this._initVideoSlidesLoading()}SSVideoEmbedSlide.prototype=new SSPresentationSlide;
SSVideoEmbedSlide.prototype._initVideoSlidesLoading=function(){"function"!==typeof window.onYouTubePlayerAPIReady&&(window.onYouTubePlayerAPIReady=function(){$(window.video_slides||[]).each(function(a,b){b.playerReady=!0})});window.video_slides||(window.video_slides=[]);window.video_slides.push(this)};SSVideoEmbedSlide.prototype._videoReady=function(a){this.ytube_player=a.target};
SSVideoEmbedSlide.prototype._playVideo=function(){if(this.ytube_player.getPlayerState)this.ytube_player.getPlayerState()===this.PLAYER_UNINITIALIZED&&this.ytube_player.playVideo();else{var a=this;setTimeout(function(){a._playVideo()},1E3)}};SSVideoEmbedSlide.prototype._pauseVideo=function(){this.ytube_player&&this.ytube_player.pauseVideo&&this.ytube_player.pauseVideo()};SSVideoEmbedSlide.prototype._videoLoadFailed=function(){$.slideshareEventManager.trigger("videoloadfailed")};
SSVideoEmbedSlide.prototype._tryPlayerLoad=function(){var a="ytube_player"+this.config.current_video_count,b="100%";navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(b="80%");if(!this.ytube_player){var c=this;this.ytube_player=new YT.Player(a,{videoId:this.config.video_id,playerVars:{autohide:this.PLAYER_AUTOHIDE,enablejsapi:this.ENABLE_JS_API,rel:this.RELATED_VIDEOS,origin:"http://www.slideshare.net",theme:"light"},width:b,height:"100%",events:{onReady:function(a){c._videoReady(a)},onError:this._videoLoadFailed}})}};
SSVideoEmbedSlide.prototype.retryPlayerLoad=function(){clearTimeout(this.retrying);if(this.playerReady)this._tryPlayerLoad();else{var a=this;this.retrying=setTimeout(function(){a.retryPlayerLoad()},1E3)}};SSVideoEmbedSlide.prototype.removeLoading=function(){var a=this.currentViewMode.wrapper;$("#ytube_player"+this.config.current_video_count,a).show();$(".ytube_message",a).remove()};
SSVideoEmbedSlide.prototype.showLoading=function(){var a=this.currentViewMode.wrapper;$(this.config.loading_message_partial).appendTo(a);this.hideLoadingMessage=!0};SSVideoEmbedSlide.prototype.show=function(){this.currentViewMode.rendered=!0;this.load();this.painted&&this.showMessage()};
SSVideoEmbedSlide.prototype.showMessage=function(){if(this.hideLoadingMessage)$("#ytube_player"+this.config.current_video_count).show();else{this.showLoading();clearTimeout(this.removeLoadingTimeout);var a=this;if(void 0===this.hideLoadingMessage||this.hideLoadingMessage)this.removeLoadingTimeout=setTimeout(function(){a.removeLoading()},3E3)}};
SSVideoEmbedSlide.prototype.emptySlide=function(){this.currentViewMode.contentElement=null;this.painted=this.currentViewMode.rendered=!1;this.ytube_player=null};SSVideoEmbedSlide.prototype.stop=function(){this._pauseVideo()};SSVideoEmbedSlide.prototype.load=function(){$.slideshareEventManager.trigger("slideloaded",{index:this.index})};
SSVideoEmbedSlide.prototype.paint=function(){var a="ytube_player"+this.config.current_video_count;this.config.show_image_player?0===this.$slide.find(".ytube-container").length&&(this.currentViewMode.contentElement=$("<div id="+a+"></div>").css({overflow:"hidden"}),this.currentViewMode.contentElement.appendTo($("<div/>").addClass("ytube-container").css({height:this.$stage.height()||this.contentHeight}).appendTo(this.$slide)),this.playerReady?this._tryPlayerLoad():this.retryPlayerLoad()):(this.currentViewMode.contentElement=
$("<div id="+a+"></div>").css({position:"absolute",overflow:"hidden",display:"none"}),this.currentViewMode.contentElement.appendTo(this.currentViewMode.wrapper),this.playerReady?this._tryPlayerLoad():this.retryPlayerLoad())};SSVideoEmbedSlide.prototype._getNewResourceVersions=function(){};
function SSPlayerController(a){"undefined"!==typeof a&&(this.config=a,this.slideCount=this.realSlideCount=this.config.slide_count,this.config.has_video&&(this.slideCount+=this.config.video_slides_count),delete this.config.slide_count,this.mode=this.config.mode,this.config.show_image_player&&"html"===this.config.mode&&(this.mode="image"),this.config.disable_meta=this.config.show_image_player?!0:!1,delete this.config.mode,this.currentPosition=0,this.loadingSlides=[],this.loadedSlides=[],this.slideModes=
{},this.availableBgSizes={},this.availableFallbackSizes={},this.config.has_lead&&(this.has_lead=!0,this.leadShownAndDisabled=!1,this.config.form_after_slide_no===this.slideCount?this.config.form_after_slide_no=this.slideCount-1:0<=this.config.form_after_slide_no&&(this.config.form_after_slide_no+=1)),this.PRELOAD_PRE_LIMIT=2,this.PRELOAD_POST_LIMIT=5,this.FONT_BATCH_COUNT=10,this.DEFAULT_ERROR_SCORE=0,this.AUTOVERIFICATION_ERROR_THRESHOLD=0.0010,this.AUTOVERIFICATION_THRESHOLDS={"bad v1.0":0.0010,
"bad v1.1":1E-4,"bad v2.0":1E-4},this.MAX_PERCENTAGE_FAILING={"bad v1.0":100,"bad v1.1":20,"bad v2.0":20},this.TOOLBAR_HEIGHT=$(".toolbar_wrapper .toolbar").height()||29,this.TOOLBAR_PADDING=$(".toolbar_wrapper .toolbar").outerHeight()-this.TOOLBAR_HEIGHT,0>this.TOOLBAR_PADDING&&(this.TOOLBAR_PADDING=8),this.MULTIMEDIABAR_HEIGHT=25,this.config.show_image_player&&(this.MULTIMEDIABAR_HEIGHT=29),this.initialized=!1,this.PRERENDER_COUNT=1,this._init(),this.startSlide=parseInt(this.config.start_slide||
1,10),this.play(this.startSlide),this.config.actionButtonsContainer=$("#svPlayerId .action-btns-container, #player .action-btns-container"))}
SSPlayerController.prototype._init=function(){var a;$.slideshareEventManager.registerController(this);$.slideshareEventManager.registerEnvironment(this.config.hosted_in);this.cachedDomElements={};this.componentSets={};a=this._isFullScreen()?"fullscreen":"normal";this._createComponentSet(a);this.isNativeFullScreenSupported=this._isNativeFullScreenSupported();this._bindEvents();this.exitFullScreenHandler=this.exitFullScreenHandlerFactory();"video"!==this.mode?!this.config.disable_meta||!this.config.show_image_player?
(this._initMetadata(),this._loadMetadata()):(this.conversionVersion=2,this.slideSizes={},this.slideLinks={},this.postInitialize()):(this.VIDEO_FULLSCREEN_ZINDEX=this.VIDEO_REINITIALISE_TIME=100,this._loadVideoMeta());$.slideshareEventManager.trackEvent("player_initialized",!0);$.slideshareEventManager.trackEvent(this.config.player_type,!0);$.slideshareEventManager.trackUniqueViewer();$.slideshareEventManager.trackEvent(this.mode+"_mode",!0);if(this.config.next_prev_experiment&&(this.config.next_slideshow_pos&&
$.slideshareEventManager.trackEvent("next_slideshow_cta_page_load"),a=window.cookie("next_slideshows_seen_ids")))if(a=a.split(","),(this.config.ssIds=a)&&""!==a[0])for(var b=0,c=a.length;b<c;b++)$('.j-related-more-tab .j-related-item a[data-ssid="'+a[b]+'"]').hide()};SSPlayerController.prototype._loadVideoMeta=function(){this.config.is_private&&this._getHtmlSignatures();this.initialized=!0};
SSPlayerController.prototype._initMetadata=function(){if("html"===this.mode)this.config.is_private&&this._getHtmlSignatures(),this._initFontResources(),this._initHtmlMetadata(),this.config.image_ready&&this._initImageMetadata(!0);else if("image"===this.mode)this._initImageMetadata();else throw window._gaq&&_gaq.push(["_trackEvent","jsplayer","invalidplayermode",this.config.id]),"Unknown player mode";};
SSPlayerController.prototype._loadMetadata=function(){if("html"===this.mode)this.metaResource.load(),this.config.image_ready&&this.imageMetaResource.load();else if("image"===this.mode)this.imageMetaResource.load();else throw"Unknown player mode";};SSPlayerController.prototype._initHtmlMetadata=function(a){this.metaResource=new SSMetaResource({url:this.config.bucket_location+"meta.js",timestamp:this.config.timestamp,type:"html",is_private:this.config.is_private,signature:a})};
SSPlayerController.prototype._initImageMetadata=function(a){this.imageMetaResource=new SSMetaResource({url:this.config.image_bucket_location+"/meta.js",timestamp:this.config.timestamp,type:a?"imagefallback":"imageprimary"})};
SSPlayerController.prototype._initFontResources=function(a,b){var c=navigator.userAgent.toLowerCase();fontBatchNum=b?Math.ceil(this.slideCount/b):Math.ceil(this.slideCount/this.FONT_BATCH_COUNT);var c=/msie/.test(c)&&!/opera/.test(c)?this.config.html_eotfont_url_suffix:this.config.html_ttffont_url_suffix,d;this.fontResources=[];for(d=1;d<=fontBatchNum;d++)this.fontResources[d]=new SSFontResource({baseUrl:this.config.bucket_location,indexString:this._getIndexString(d,0),timestamp:this.config.timestamp,
suffix:c})};SSPlayerController.prototype.setLeadFilledForAuthor=function(){if(window.localStorage){var a=localStorage.getItem("leadFormFilled");a?0>a.split(",").indexOf(""+this.config.author_id)&&(a+=","+this.config.author_id,localStorage.setItem("leadFormFilled",a)):localStorage.setItem("leadFormFilled",this.config.author_id)}};
SSPlayerController.prototype.checkLeadFilledForAuthor=function(){return window.slideshare_object&&slideshare_object.slideshow&&slideshare_object.user&&slideshare_object.slideshow.user_login===slideshare_object.user.login?!1:"undefined"===typeof localStorage?!1:(v=localStorage.getItem("leadFormFilled"))&&0<=$.inArray(""+this.config.author_id,v.split(","))};
SSPlayerController.prototype.getImagePrivateSignatures=function(a,b){var c=this;$.ajax({url:c.config.images_signature_request_route,data:{id:c.config.id,key:c.config.secret_key,mode:b,images_sizes:a,version:c.conversionVersion,password_hash:c.config.password_hash,slidetracking_hash:c.config.slidetracking_hash,authenticity_token:window._auth_token},dataType:"json",cache:!1,type:"POST",success:function(a){"html"===b?c.privateImageSignatures=a:"image"===b&&(c.privateFallBackImageSignatures=a);if("html"===
b||"image"===b)c.postInitialize();else if(c.slidesCreated){var e=c.slideModes.image.length,f,g;for(i=0;i<e;i++)g=c.slideModes.image[i],f=c.slides[c.realIndexToIndex[g]],f.resources.image.addSignature(a[g]),f.resources.image.ready()}else c.privateFallBackImageSignatures=a}})};
SSPlayerController.prototype._getHtmlSignatures=function(){var a=this;$.ajax({url:this.config.signature_request_route,data:{id:this.config.id,key:this.config.secret_key},dataType:"json",cache:!1,type:"GET",success:function(b){var c=b.length;if(0!==c){for(var d=0;d<c;d++)a.htmlResourceSignatures=b[d].info;for(d=0;d<a.slideCount;d++)a.slides&&a.slides[d]&&(slide=a.slides[d],slide.resources.html.updateSignature(a.htmlResourceSignatures[d].url),slide.resources.html.ready())}},failure:function(){$.slideshareEventManager.trigger("metadataloadfailed",
{type:a.config.type})}})};
SSPlayerController.prototype._metaDataHandlers=function(){var a=function(){var a,c,d=this.currentComponentSet.slidedisplayer;a=d.container.height();c=d.container.width();d.error(this.generateErrorDom("meta_error_template",{width:c,height:a}));$("#playerFacade").hide()};return{html:{success:function(a){this.conversionVersion=parseInt(a.version||2,10);this.slideSizes=a.sizes||{};this.availableBgSizes=a.available_sizes||{};var c=a.error_scores||{};this.algo=c.algo||"bad v1.0";this.errorScores=c.webkit||
{};c="\n.ssml_div span {line-height:normal;} \n.ssml_div div {line-height:normal;}\n.ssml_div{font-size:16px;}";"none"===this.config.render_links&&(c+="\n.ssml_div a{cursor:default;}");$("<style>"+(a.global_styles_css||"a.ssml_a {text-decoration:none;color:inherit;vertical-align:top;} \n.ssml_div span {position:absolute; white-space:pre; vertical-align:top;} \n.ssml_div div {position:absolute;}")+c+"</style>").appendTo(this.currentComponentSet.container);a.pages_per_fontfile&&(this.FONT_BATCH_COUNT=
a.pages_per_fontfile,this._initFontResources());this.config.is_private?this.getImagePrivateSignatures(this.availableBgSizes,"html"):this.postInitialize()},failure:a},imagefallback:{success:function(a){"none"===this.config.render_links&&(a.links={});this.slidesCreated?this.fallbackMetaHandler(a):this.fallbackMetaData=a},failure:function(){var a=this.slideModes.image.length,c,d,e,f;for(c=0;c<a;c++)d=this.slideModes.image[c],f=this.slides[d],d=f.currentViewMode.width,e=f.currentViewMode.height,f.displayError(this.generateErrorDom("slide_error_template",
{width:d,height:e}),!0)}},imageprimary:{success:function(a){this.conversionVersion=parseInt(a.version||2,10);this.slideSizes=a.sizes||{};"none"===this.config.render_links&&(a.links={});this.slideLinks=a.links||{};this.availableFallbackSizes=a.available_sizes;this.config.is_private?this.getImagePrivateSignatures(this.availableFallbackSizes,"image"):this.postInitialize()},failure:a}}};
SSPlayerController.prototype.fallbackMetaHandler=function(a){var b=parseInt(a.version||2,10),c=a.sizes||{},d=a.available_sizes||{},a=a.links||{},e=this.slideModes.image.length,f,g,h;for(i=0;i<e;i++)slideIndex=this.slideModes.image[i],g=c[slideIndex]||{},f=d[slideIndex],void 0===f&&(f={320:[75],768:[75]},f[g.width]=[75]),h=this.slides[this.realIndexToIndex[slideIndex]],h.setContentDimensions(g.width||0,g.height||0),h.updateResource("image",{sizes:{contentWidth:g.width||0,availableSizes:f,conversionVersion:b,
is_private:this.config.is_private},linkData:a[slideIndex]||[]});this.config.is_private&&this.getImagePrivateSignatures(d,"imagefb")};SSPlayerController.prototype.postInitialize=function(){this._initSlides();this._activateComponentSet(this.currentViewMode);this._setModeForSlides(this.currentViewMode);this.setDimensions();$(this).trigger("playerinitialized");try{window.parent.infographic_campaign&&$.slideshareEventManager.trigger("viewfullscreen")}catch(a){}};
SSPlayerController.prototype.initVideoPlayer=function(a){this.multimediaResource=this.currentComponentSet.videobar;this.multimediaResource.videoPlayer=jwplayer("videoSlideContainer_"+a);this._activateComponentSet(a);this.setDimensions();$("[id*=videoSlideContainer]").css("cursor","default")};
SSPlayerController.prototype._bindEvents=function(){var a=this;$(this).bind("playerinitialized",function(){this.initialized=!0;a.play()});this.config.preload_after_pageload&&$(window).bind("load",function(){a.pageLoadFired=!0});!this.config.touch&&!("document"===this.config.player_type||"video"===this.config.player_type)&&$(document).bind("keyup",function(b){if("INPUT"!==b.target.nodeName&&"TEXTAREA"!==b.target.nodeName){var c=a.currentComponentSet.leadForm;if(37===b.keyCode&&(!c||!c.isVisible()))a.currentComponentSet.lastScreen&&
a.currentComponentSet.lastScreen.destroy(),$.slideshareEventManager.trigger("previous");39===b.keyCode&&(!c||!c.isVisible())&&$.slideshareEventManager.trigger("next")}});this.isNativeFullScreenSupported&&$(document).bind(this.nativeFullScreen.fullScreenChangeEventName(),function(b){a._nativeFullScreenHandler.call(a,b)})};
SSPlayerController.prototype._bindComponentSetEvents=function(){var a=this;$(this.currentComponentSet.slidedisplayer).bind("zoomchanged",function(){a.repaint();if(this.documentSlider)for(var b=1;b<a.slides.length&&"undefined"!==typeof a.slides[b].currentViewMode.imageElement;)a.currentComponentSet.slidedisplayer.slidesContainer.width()!==a.slides[b].currentViewMode.imageElement.width()&&a.slides[b].show(!0),b++})};
SSPlayerController.prototype._createComponentSet=function(a){this.componentSets[a]={};this.currentComponentSet=this.componentSets[a];this.currentViewMode=a;var b=this.currentComponentSet;if("normal"===a||this.config.show_image_player){b.container=$("#"+this.config.container);if(1!==b.container.length)throw"Unable to find container for player";b.container.css({overflow:"hidden"})}else"fullscreen"===a&&(this.normalModeScrollPosition=$(window).scrollTop(),b.container=$("<div/>").addClass("jsplInpageFullScreen").appendTo($("body")),
$("body, html").css({overflow:"hidden"}));var c=this._isFullScreen(a),d=this._getPlayerBgColor(a);b.navigators=[];d={renderTo:b.container,spinnerUrl:this.config.spinner_url,errorImageUrl:this.config.error_image_url,mode:this.mode,slideCount:this.slideCount,playerType:this.config.player_type,playerBgColor:d,hosted_in:this.config.hosted_in,show_image_player:this.config.show_image_player};"html"===this.config.player_type&&(d.iframe_id=this.config.iframe_id);this._isFullScreen(a)&&(d.spinnerUrl=this.config.spinner_url_fullscreen);
"document"===this.config.player_type?b.slidedisplayer="undefined"!==typeof new_mobile_player?new SSMobileDocumentDisplayer(d):new SSDocumentDisplayer(d):"video"===this.config.player_type?(this.videoSpecialSettings=this.getSpecialSettingsForVideo(),d.videoBucket=this.config.video_bucket,d.pptLocation=this.config.ppt_location,d.screenMode=a,d.videoSpinner=this.config.video_spinner_location,d.playerDomName=this.config.container,d.videoExtension=this.config.video_extension,d.useDefaultToolbar=this.videoSpecialSettings.defaultToolbar,
d.ieAndLessThan8=this.videoSpecialSettings.ieLT8,d.swfLocation=this.config.swf_location,d.playIcon=this.config.video_play_icon,d.posterImage=this.config.poster_img_url,d.embedOnIe=this.isEmbedAndIE(),d.isEmbed="embed"===this.config.hosted_in,d.autoplayOnEmbed=this.config.autoplayOnEmbed,this.hasToolbar=!this.videoSpecialSettings.defaultToolbar,d.isMobileDevice=this.config.touch,d.isMobileAndNonIos=this.config.touch&&!navigator.userAgent.match(/(iPhone|iPad|iPod)/i),b.slidedisplayer=new SSVideoDisplayer(d)):
"infographic"===this.config.player_type?(d.isMobileDevice=this.config.touch,b.slidedisplayer=new SSInfographicDisplayer(d)):"html"===this.config.player_type?(d.isMobileDevice=this.config.touch,b.slidedisplayer=new SSIframeDisplayer(d)):(d.isTouch=this.config.touch,b.slidedisplayer="undefined"!==typeof new_mobile_player?new NewMobilePresentationDisplayer(d):new SSPresentationDisplayer(d));this.hasToolbar=!this.config.touch||"mobile_slideview"!==this.config.hosted_in;b.navigators.push(b.slidedisplayer);
this.setDimensions();a=this.currentComponentSet.width;d=this.currentComponentSet.height;this.config.shareScreenClass="";this.config.lastScreenClass="";this.config.showProLastScreen=!0;"mobile_slideview"!==this.config.hosted_in&&(this.config.disable_share||(this.config.shareScreenClass=this._getShareScreenClass(a,d),this.config.shareScreenClass||(this.config.disable_share=!0)),"slideview"!==this.config.hosted_in&&(this.config.lastScreenClass=this._getLastScreenClass(a,d)),this.config.showProLastScreen=
this.canShowProLastScreen(a,d));this.config.touch?(b.touchInteraction=new SSTouchInteraction({container:b.slidedisplayer.container,playerType:this.config.player_type,hostedIn:this.config.hosted_in}),b.navigators.push(b.touchInteraction)):"presentation"===this.config.player_type&&!isMobile()&&(b.bandInteraction=new SSBandInteraction({container:b.slidedisplayer.container,width:b.width,linksDisabled:"none"===this.config.render_links}),b.navigators.push(b.bandInteraction));this.config.has_lead&&(!this.leadShownAndDisabled&&
!this.checkLeadFilledForAuthor())&&(this.config.show_lead_cta&&(b.leadcta=new SSLeadCTA({renderTo:b.container,html:this.config.lead_form_cta_html}),b.navigators.push(b.leadcta)),b.leadForm=new SSLeadForm({leadFormHtml:this.config.leadFormHtml||"",renderTo:b.slidedisplayer.container,lead_form_url:this.config.lead_form_url,show_skip_button:this.config.show_skip_button,width:this.currentComponentSet.width,height:this.currentComponentSet.height,slideshowId:this.config.id}),b.navigators.push(b.leadForm));
if(this.hasToolbar){c={width:b.width,height:this.TOOLBAR_HEIGHT,html:this.config.toolbar_html,renderTo:b.container,totalSlideCount:this.slideCount,primaryResourceType:this.config.primaryResourceType,disableShare:this.config.disable_share,enableViewSS:this.config.enable_viewSS,isFullScreen:c,playerType:this.config.player_type,enableZoomButtons:"document"==this.config.player_type,show_image_player:this.config.show_image_player};a=this.config.player_type;if("infographic"===a||"html"===a)a={disableNav:!0,
disableGoToSlide:!0,disableShare:!1,enableViewSS:!0,enableZoomButtons:!1,disableFullScreen:!1,disableLeaveFullScreen:!1,buttonOverrides:{btnLeaveFullScreen:"."+a+"_player a.j-exit-fullscreen"},elementOverrides:{leaveFullScreen:"."+a+"_player a.exit-fullscreen"}},"slideview"==this.config.hosted_in&&(a.enableViewSS=!1,a.disableShare=!0,a.disableFullScreen=!1,a.disableLeaveFullScreen=!1,a.enableZoomButtons=!1,a.buttonOverrides.btnFullScreen="li a.btnFullScreen",a.elementOverrides.fullScreen="li a.btnFullScreen"),
"slideshare"==this.config.hosted_in&&(a.enableViewSS=!1),$.extend(c,a);b.toolbar=new SSToolbar(c);b.navigators.push(b.toolbar)}"video"===this.config.player_type&&(b.toolbar||(b.toolbar=$("<div/>")),b.videobar=new SSVideoBar({renderTo:b.toolbar.container,height:this.MULTIMEDIABAR_HEIGHT,html:this.config.multimediabar_html,showLead:this.config.has_lead,leadFormTime:this.config.form_after_slide_no,isMobileDevice:this.config.touch}),b.navigators.push(b.videobar),this.multimediaResource=b.videobar);this.config.has_video&&
(b.videoConfetti=$("<img/>").attr({src:this.config.confetti_url}).css({position:"absolute",top:"-1px",left:"-1px"}).appendTo(b.container));if(!this.config.disable_share&&this.config.share_cta){var c=SSShareCta,a=b.container,d=b.slidedisplayer,e=[d.container];d.rightbandInteraction&&d.leftbandInteraction&&(e.push(d.rightbandInteraction),e.push(d.leftbandInteraction));b.share_cta=new c({renderTo:a,bindTo:e,html:this.config.share_cta.html,hosted_in:this.config.hosted_in,is_fullscreen:this.config.is_fullscreen,
is_mobile:isMobile(),ssid:this.config.id})}"video"!==this.mode&&this._bindComponentSetEvents()};SSPlayerController.prototype.configureComponentsForNativeMode=function(a){var b=this.currentComponentSet;b.slidedisplayer.refresh({spinnerUrl:this.config.spinner_url_fullscreen});b.toolbar.config.isFullScreen=this._isFullScreen(a);b.toolbar._initForNativeFullScreen(a)};SSPlayerController.prototype._isFullScreen=function(a){return"fullscreen"===a||"nativefullscreen"===a||this.config.is_fullscreen};
SSPlayerController.prototype._getPlayerBgColor=function(a){var b="jsplBgColorBigfoot";return b=this._isFullScreen(a)?this.config.fullscreen_bgcolor:this.config.player_bgcolor};SSPlayerController.prototype._getShareScreenClass=function(a,b){var c=null;360<a&&260<b?c="normal":320<a&&250<b?c="small":290<a&&280<b&&(c="tiny");return c};SSPlayerController.prototype.canShowProLastScreen=function(a,b){return 337>a||142>b?!1:!0};
SSPlayerController.prototype._getLastScreenClass=function(a,b){var c="small";512<=a&&421<=b?c="medium":427<=a&&356<=b&&(c="normal");return c};
SSPlayerController.prototype._destroyComponentSet=function(a){var b=this.componentSets[a];$.each(b.navigators,function(a,b){b.destroy()});delete this.componentSets[a].navigators;delete this.componentSets[a].slidedisplayer;"fullscreen"===a&&(b.container.remove(),$("body, html").css({overflow:"auto"}));if(this.slides)for(var c=1;c<=this.slideCount;c++)b=this.slides[c],b.viewModes[a].container.remove(),delete b.viewModes[a];delete this.componentSets[a].container;delete this.componentSets[a]};
SSPlayerController.prototype._mapIndexes=function(){for(var a=this.config.video_hash,b=1,c=this.slideCount,d={},e={},f=1;f<=c;f++)a&&a[f]?d[f]=null:(d[f]=b,e[b]=f,b++);this.config.has_video&&(a=document.createElement("script"),a.src=(this.config.use_ssl?"https://":"http://")+"www.youtube.com/player_api",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b));this.indexToRealIndex=d;this.realIndexToIndex=e};
SSPlayerController.prototype._percentageFailing=function(a){var b=0,c;for(c in this.errorScores)this.errorScores[c]>a&&b++;return 0===this.slideCount?0:parseInt(100*(b/this.slideCount),10)};
SSPlayerController.prototype._initSlides=function(){this.slides=[];this.slideModes.image=[];this.slideModes.html=[];var a,b,c,d=!1,e,f=0,g=this.config.video_hash;this._mapIndexes();var h=this.indexToRealIndex,k=this.AUTOVERIFICATION_ERROR_THRESHOLD,l=0,n=100;2===this.conversionVersion&&"undefined"!==typeof this.AUTOVERIFICATION_THRESHOLDS[this.algo]&&(k=this.AUTOVERIFICATION_THRESHOLDS[this.algo],l=this._percentageFailing(k));2===this.conversionVersion&&"undefined"!==typeof this.MAX_PERCENTAGE_FAILING[this.algo]&&
(n=this.MAX_PERCENTAGE_FAILING[this.algo]);for(a in h)if(h.hasOwnProperty(a)){a=parseInt(a,10);e=h[a];null===h[a]?(b="ytube_video",f++):"iframe"===this.mode?b="iframe":1===a&&this.config.image_ready?(b="image",d=!0):"html"===this.mode&&!this.config.image_ready?b="html":"image"===this.mode?b="image":2===this.conversionVersion&&l>n?(b="image",this.disableLoadingFonts=d=!0):(b=parseFloat(this.errorScores[a]),isNaN(b)&&(b=this.DEFAULT_ERROR_SCORE),b>k?(b="image",d=!0):b="html");null===e&&(e=g[a].parent);
c=this.slideSizes[e]||{};"html"===b?this.slideModes.html.push(e):"image"===b&&this.slideModes.image.push(e);var j="all"===this.config.render_links;c={ssid:this.config.id,realIndex:e,index:a,type:this.mode,linkOffset:f,slideMode:b,indexGenerator:this._getIndexString,contentWidth:parseInt(c.width,10)||638,contentHeight:parseInt(c.height,10)||479,playerWidth:this.currentComponentSet.width,errorImageUrl:this.config.error_image_url,spinnerUrl:this.config.spinner_url,spinnerUrlFullscreen:this.config.spinner_url_fullscreen,
playerType:this.config.player_type,stripped_title:this.config.stripped_title,timestamp:this.config.timestamp,ppt_location:this.config.ppt_location,is_private:this.config.is_private,is_render_all_links:j,hosted_in:this.config.hosted_in,show_image_player:this.config.show_image_player,isStartSlide:this.config.start_slide===a};"html"===b?(c.bucketLocation=this.config.bucket_location,c.availableSizes=this.availableBgSizes[e]):"image"===b?(c.bucketLocation=this.config.image_bucket_location,c.availableSizes=
this.config.disable_meta?{1024:[95]}:this.availableFallbackSizes[e]):"iframe"===b&&(c.html_location=this.config.html_location,c.iframe_id=this.config.iframe_id);this.config.is_private&&("html"==b?(this.htmlResourceSignatures&&this.htmlResourceSignatures[e]&&(c.htmlResourceSignature=this.htmlResourceSignatures[e].url),c.privateImageSignatures=this.privateImageSignatures[e]):"image"==b&&this.privateFallBackImageSignatures&&(c.privateImageSignatures=this.privateFallBackImageSignatures[e]));"document"===
this.config.player_type?b="undefined"!==typeof new_mobile_player?new MobileDocumentSlide(c):new SSDocumentSlide(c):"infographic"===this.config.player_type?b=new SSInfographicSlide(c):"html"===this.config.player_type?b=new SSIframeSlide(c):"ytube_video"!==b?b="undefined"!==typeof new_mobile_player?new SlideshareMobileSlide(c):new SSPresentationSlide(c):(c.video_id=g[a].video_id,c.current_video_count=f,c.loading_message_partial=this.config.loading_message_partial,1===a&&(c.contentWidth=728,c.contentHeight=
542),b=new SSVideoEmbedSlide(c));"image"===this.mode&&void 0!==this.slideLinks[e]&&b.updateResource("image",{linkData:this.slideLinks[e]||{}});this.slides[a]=b;delete this.availableFallbackSizes[e]}!0===d&&(this.slidesCreated=!0,this.fallbackMetaData&&this.fallbackMetaHandler(this.fallbackMetaData))};SSPlayerController.prototype._getIndexString=function(a,b){var c=""+a,d=c.length,e;for(e=0;e<b-d;e++)c="0"+c;return c};
SSPlayerController.prototype._getContainerSize=function(){this.currentComponentSet.width=this.currentComponentSet.container.width();this.currentComponentSet.height=this.currentComponentSet.container.height()};
SSPlayerController.prototype.setDimensions=function(a,b){var c=this.currentComponentSet;this._getContainerSize();a=a||!1;c.viewHeight=c.height;this.hasToolbar&&(c.viewHeight-=this.TOOLBAR_HEIGHT+this.TOOLBAR_PADDING);c.slidedisplayer.setDimensions({width:c.width,height:c.viewHeight,partial:a});if(!a){var d={height:c.viewHeight,width:c.width},e=this.currentComponentSet;$.each(["toolbar","videobar","leadcta","shareScreen","lastScreen"],function(a,c){e[c]&&"function"===typeof e[c].setDimensions&&e[c].setDimensions(d,
b)})}};SSPlayerController.prototype.getSpecialSettingsForVideo=function(){var a=navigator.userAgent.toLowerCase();/mozilla/.test(a)&&/(compatible|webkit|trident)/.test(a);var a=/msie/.test(a)&&!/opera/.test(a)&&document.documentMode&&8>document.documentMode,b={ieLT8:a},c=!1;"video"===this.config.player_type?a&&this.isEmbedAndIE()&&(c=!0):c=!1;b.defaultToolbar=c;return b};
SSPlayerController.prototype.repaint=function(a){var b=navigator.userAgent.toLowerCase(),b=/msie/.test(b)&&!/opera/.test(b);if(!(void 0===this.currentComponentSet.slidedisplayer||"video"===this.config.player_type&&b&&this.currentComponentSet.videobar.fullscreen)){this.setDimensions(!0);this.setDimensions(!1,a);this._repaintPrerenderedSlides();if(this.config.has_video){var c=this;setTimeout(function(){c.resizeVideoEmbeds()},250)}this.config.show_image_player||this.currentComponentSet.slidedisplayer._scrollTo(this.currentPosition)}};
SSPlayerController.prototype._repaintPrerenderedSlides=function(){var a=this.currentComponentSet.slidedisplayer.prerenderedSlides,b;if(a&&0<a.length){var c;for(c=0;c<a.length;c++)b=a[c],this.slides[b].show(!0)}};
SSPlayerController.prototype.updateCurrentPosition=function(a){if(void 0!==this.slides[a]&&(this.config.show_image_player&&(this.currentComponentSet.slidedisplayer.currentPosition=a),"video"!==this.config.player_type)){var b=this.currentComponentSet.toolbar;b&&b.updateCurrentPosition(a);this.currentPosition=a;this.slides[a].painted=!0}};
SSPlayerController.prototype.displayLastScreen=function(){var a=this;if(!("video"===this.config.player_type&&this.currentComponentSet.videobar.fullscreen)){"undefined"===typeof this.currentComponentSet.lastScreen&&(this.config.is_only_private||this.config.disable_lastscreen&&!this.config.showProLastScreen||this.config.show_replay_screen?this.currentComponentSet.lastScreen=new SSReplayScreen({renderTo:this.currentComponentSet.container,settings:this.config.replayscreen}):("undefined"===typeof this.currentComponentSet.lastScreen&&
(this.currentComponentSet.lastScreen=this._getShareScreen()),this.currentComponentSet.lastScreen=this.currentComponentSet.shareScreen),$(this.currentComponentSet.lastScreen).bind("gotofirstslide",function(){$(a).trigger("gotofirstslide")}));var b=this.currentComponentSet;b.viewHeight=b.height;this.hasToolbar&&(b.viewHeight-=this.TOOLBAR_HEIGHT+this.TOOLBAR_PADDING);this.currentComponentSet.lastScreen.show({width:b.width,height:b.viewHeight},this._isFullScreen(this.currentViewMode));this.currentComponentSet.lastScreen.isProLastScreen?
$.slideshareEventManager.trackEvent("proLastscreen_shown"):$.slideshareEventManager.trackEvent("lastscreen_shown");this.currentComponentSet.toolbar&&this.currentComponentSet.videobar&&(b=this.currentComponentSet.lastscreen.overlay.css("z-index")-1,$(this.currentComponentSet.toolbar.container).css("z-index",b))}};SSPlayerController.prototype.hideLastScreen=function(){this.currentComponentSet.lastScreen&&this.currentComponentSet.lastScreen.isVisible&&this.currentComponentSet.lastScreen.hide()};
SSPlayerController.prototype.hideShareScreen=function(){this.currentComponentSet.shareScreen&&this.currentComponentSet.shareScreen.isVisible&&this.currentComponentSet.shareScreen.hide()};
SSPlayerController.prototype.displayShareScreen=function(a){var b=a.gaCategory;b||(b="lastscreen_v1_");$.slideshareEventManager.trackEvent(b+"share_cta_click");this._getShareScreen();this.currentComponentSet.shareScreen.showShareScreen({width:this.currentComponentSet.width,height:this.currentComponentSet.viewHeight,customizations:a.customizations});this.currentComponentSet.shareScreen.modalShare?this.currentComponentSet.shareScreen.modalShare.gaCategory=b:this.currentComponentSet.shareScreen.modalShare=
new PlayerModalShare({btnShare:".action-btns-container .action-btn.share",parentEl:".lastScreenContainer .lastScreen",el:".lastScreenContainer .lastScreen .modal-share",gaCategory:b},this.currentComponentSet.shareScreen);this.currentComponentSet.shareScreen.modalShare.updateEmbed()};
SSPlayerController.prototype.updateEmbedSizes=function(){var a=this.config.embed_sizes,b=this.slideAspectRatio;if(!("infographic"!==this.config.player_type||!a||!b)){for(var c in a.presets)a.presets.hasOwnProperty(c)&&(preset=a.presets[c],preset.size.height=parseInt(preset.size.width*b+49,10));this.currentComponentSet&&this.currentComponentSet.shareScreen&&this.currentComponentSet.shareScreen.populateEmbedSizes()}};
SSPlayerController.prototype._getShareScreen=function(){"undefined"===typeof this.currentComponentSet.shareScreen&&(this.currentComponentSet.shareScreen=new SSLastScreen({renderTo:this.currentComponentSet.container,settings:this.config.lastscreen,slideshowId:this.config.id,embed_code:this.config.embed_code,iframe_url:this.config.iframe_url,iframe_code:this.config.iframe_code,embed_sizes:this.config.embed_sizes,wp_code:this.config.wp_code,show_related_content:this.config.show_related_content,lastScreenClass:this.config.lastScreenClass,
disableRelated:this.config.disable_lastscreen,disableShare:this.config.disable_share,shareOptions:this.config.shareoptions,hostedIn:this.config.hosted_in,totalSlides:this.slideCount}));return this.currentComponentSet.shareScreen};SSPlayerController.prototype.loadFonts=function(a){"html"!==this.mode||!0===this.disableLoadingFonts||"initialized"===this.fontResources[a].status&&this.fontResources[a].load()};
SSPlayerController.prototype.getPrerenderSlideIndices=function(a){var b=a-this.PRERENDER_COUNT;1>b&&(b=1);a+=this.PRERENDER_COUNT;a>this.slideCount&&(a=this.slideCount);return[b,a]};
SSPlayerController.prototype._load=function(a,b){var c=navigator.userAgent.toLowerCase(),d=/msie/.test(c)&&!/opera/.test(c);if("video"!==this.config.player_type){var a=a||this.config.start_slide,e,f,g=this;this.loadFonts(Math.ceil(a/this.FONT_BATCH_COUNT));if(!b){e=this.getPrerenderSlideIndices(a,b);var c=e[0],h=e[1];for(e=c;e<=h;e++)this.config.show_image_player&&this.slides[e].render(),this.slides[e].show(),this.loadedSlides[e]=!0;if((d||"function"===typeof isIos&&isIos())&&"undefined"===typeof new_mobile_player){if(d=
this.currentComponentSet.slidedisplayer.prerenderedSlides)for(e=0;e<d.length;e++)if(f=d[e],f<c||f>h)f=this.slides[f],f.hide();this.currentComponentSet.slidedisplayer.prerenderedSlides=[]}this.currentComponentSet.slidedisplayer.setPrerenderedSlides({start:c,end:h})}this.config.disable_eagerload&&a===this.config.start_slide||(c=this.preloadAnchorIndex,this.preloadAnchorIndex=a,e=function(){g.preloadSlides()},this.config.preload_after_pageload&&!this.pageLoadFired?c||$(window).bind("load",e):(clearTimeout(this.preloadTimeoutId),
this.preloadTimeoutId=setTimeout(e,2E3)))}};
SSPlayerController.prototype.preloadSlides=function(){if(this.preloadAnchorIndex){var a=this.PRELOAD_PRE_LIMIT+this.PRELOAD_POST_LIMIT+1,b=this.preloadAnchorIndex-this.PRELOAD_PRE_LIMIT;1>b&&(b=1);a=b+a-1;a>this.slideCount&&(a=this.slideCount);var c=Math.ceil(b/this.FONT_BATCH_COUNT),d=Math.ceil(a/this.FONT_BATCH_COUNT);for(i=c;i<=d;i++)this.loadFonts(i);for(i=b;i<=a;i++)this.loadedSlides[i]||(slide=this.slides[i],this.config.show_image_player&&slide.render(),slide.load(),this.loadedSlides[i]=!0);
delete this.preloadAnchorIndex}};SSPlayerController.prototype.preloadMoreIfIdle=function(a){if(!this.config.disable_eagerload){var b=this.loadingSlides,a=b.indexOf(a);-1<a&&b.splice(a,1);if(!this.preloadAnchorIndex&&2>b.length){var c=this.loadedSlides.length+1;if(!(c>this.realSlideCount)){var d=this;setTimeout(function(){d._load(c,!0)},0)}}}};
SSPlayerController.prototype.play=function(a,b,c){if(this.initialized){if(void 0===a&&("undefined"!==typeof this.playQueue?(a=this.playQueue,delete this.playQueue):a=1),1>a&&(a=1),a>this.slideCount&&(a=this.slideCount),this.currentPosition!==a||b)"video"===this.config.player_type?this.currentComponentSet.slidedisplayer.start():$.slideshareEventManager.trigger("slidechanged",{index:a,force:b,source:c})}else this.playQueue=a||1};
SSPlayerController.prototype._enableVideoReloading=function(){var a=this.slides,b;for(b in a)a.hasOwnProperty(b)&&a[b]&&"ytube_video"===a[b].config.slideMode&&a[b].emptySlide()};
SSPlayerController.prototype.switchNativeView=function(a){if("nativefullscreen"===a){var b=this.currentComponentSet.container;b.length&&this.nativeFullScreen.request(b[0])}else this.nativeFullScreen.cancel();void 0===this.componentSets[a]&&(this.componentSets[a]=this.componentSets[this.currentViewMode]);this.currentComponentSet=this.componentSets[a];this.currentViewMode=a;this.currentComponentSet.slidedisplayer.emptySlides();this.configureComponentsForNativeMode(a);this._setModeForSlides(a);this._load(this.currentPosition);
this.updateCurrentPosition(this.currentPosition)};SSPlayerController.prototype._nativeFullScreenHandler=function(){var a=this;this.nativeFullScreen.isFullScreen()?this.currentViewMode="nativefullscreen":$.slideshareEventManager.trigger("leavefullscreen");window.setTimeout(function(){a.repaint.call(a)},500)};
SSPlayerController.prototype.nativeFullScreen={request:function(a){if(document.webkitFullscreenEnabled){var b=/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase());Element&&Element.ALLOW_KEYBOARD_INPUT&&!b?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen()}else document.mozFullScreenEnabled&&a.mozRequestFullScreen()},cancel:function(){document.webkitFullscreenEnabled?document.webkitCancelFullScreen():document.mozFullScreenEnabled&&
document.mozCancelFullScreen()},fullScreenChangeEventName:function(){if(document.webkitFullscreenEnabled)return"webkitfullscreenchange";if(document.mozFullScreenEnabled)return"mozfullscreenchange"},isFullScreen:function(){return document.webkitIsFullScreen||document.mozFullScreen}};
SSPlayerController.prototype._isNativeFullScreenSupported=function(){var a=navigator.userAgent.toLowerCase();navigator.appName.toLowerCase();var b=document.webkitFullscreenEnabled||document.mozFullScreenEnabled,a=/chrome/.test(a)||/firefox/.test(a)||/safari/.test(a);return b&&a};
SSPlayerController.prototype.leaveFullScreen=function(){this.currentComponentSet.container.removeClass("fullscreen");this.currentComponentSet.videobar&&(this.disableLeadForFullscreenVideo(!1),this.currentComponentSet.slidedisplayer.adjustSpinnerPosition(!1));this.currentComponentSet.lastscreen&&this.currentComponentSet.lastscreen.hide();if("nativefullscreen"===this.currentViewMode&&this.isNativeFullScreenSupported)this.switchNativeView("normal");else if(isIEAllVersion)try{window.close()}catch(a){}else"video"===
this.config.player_type?this.returnFromFullscreenForVideo():this.config.inpage_full_screen&&this.switchView("normal")};SSPlayerController.prototype.switchToFullScreen=function(){"video"===this.config.player_type?(this.currentComponentSet.container.addClass("fullscreen"),this.goHtmlFullscreenForVideo()):this.config.inpage_full_screen&&(this.currentComponentSet.container.addClass("fullscreen"),this.switchView("fullscreen"))};
SSPlayerController.prototype.switchView=function(a){this.config.show_image_player?("fullscreen"===a?(this.currentViewMode="nativefullscreen",this.currentComponentSet.container.addClass("non-native-fullscreen")):"normal"===a&&(this.currentViewMode="normal",this.currentComponentSet.container.removeClass("non-native-fullscreen"),this.switchNativeView(this.currentViewMode)),this.configureComponentsForNativeMode(a),this.repaint(),$(window).trigger("resize")):a!==this.currentViewMode&&(this.config.has_video&&
(this._enableVideoReloading(),$("[id*=ytube_player]").remove()),this._deactivateComponentSet(this.currentViewMode),void 0===this.componentSets[a]&&this._createComponentSet(a),this._activateComponentSet(a),this._setModeForSlides(a),this.setDimensions(),this.play(this.currentPosition,!0),this._load(this.currentPosition),this.updateCurrentPosition(this.currentPosition))};
SSPlayerController.prototype._activateComponentSet=function(a){var b=this.componentSets[a],c=b.navigators;this.currentComponentSet=b;this.currentViewMode=a;$.each(c,function(a,b){b.activate()});"fullscreen"===a||this.config.is_fullscreen?($(document).bind("keyup",this.exitFullScreenHandler),$(window).scrollTop(0)):($(document).unbind("keyup",this.exitFullScreenHandler),this.normalModeScrollPosition&&$(window).scrollTop(this.normalModeScrollPosition))};
SSPlayerController.prototype.exitFullScreenHandlerFactory=function(){return function(a){if(27===a.keyCode)try{$.slideshareEventManager.trigger("leavefullscreen")}catch(b){}}};SSPlayerController.prototype._deactivateComponentSet=function(a){$.each(this.componentSets[a].navigators,function(a,c){c.deactivate()});"fullscreen"===a&&this._destroyComponentSet("fullscreen");this.currentViewMode=this.currentComponentSet=null};
SSPlayerController.prototype._setModeForSlides=function(a){"video"!==this.config.player_type&&this.currentComponentSet.slidedisplayer.start({slides:this.slides,mode:a,playerBgColor:this._getPlayerBgColor(a)});this.currentComponentSet.slidedisplayer._bindEvents()};SSPlayerController.prototype.getFullScreenUrl=function(){return this.config.fullscreen_url?this.config.fullscreen_url+"/"+this.currentPosition:document.location};
SSPlayerController.prototype.generateErrorDom=function(a,b){var c=a+"_"+b.width+"_"+b.height,d=this.cachedDomElements[c];if(void 0===d){var d=b.width,e=b.height,f=e/3,f=f>d/4?d/4:f,g=parseInt(f/20,10),h=(e-f)/("document"===this.config.player_type?4:2),k=d/25,l=f-14,d=$(this.config[a]);d.css({height:e-h,padding:h+"px 14px 0"});e=d.children("div");e.css({"-moz-border-radius":g,"-webkit-border-radius":g,"-o-border-radius":g,"-ms-border-radius":g,"border-radius":g,height:f});e.children("img").css({margin:7,
height:l,width:l});e.children("div").css({left:l+14,padding:"14px 0 0 7px","font-size":k});this.cachedDomElements[c]=d}return $(d).clone()};SSPlayerController.prototype.disableLeadForFullscreenVideo=function(a){(this.currentComponentSet.videobar.fullscreen=a)?this.currentComponentSet.leadcta&&this.currentComponentSet.leadcta.hide():!this.leadShownAndDisabled&&this.currentComponentSet.leadcta&&this.currentComponentSet.leadcta.show()};
SSPlayerController.prototype.goHtmlFullscreenForVideo=function(){this.currentComponentSet.slidedisplayer.container.addClass("inPageFullscreen");var a=this.multimediaResource.videoPlayer,b=$(a.getContainer()),c=$(b.parent());this.normalPosition=b.css("position");this.normalZindex=b.css("z-index");this.normalLeft=b.css("left");this.normalTop=b.css("top");this.normalPlayerWidth=c.width();this.normalPlayerHeight=c.height();this.toolbarPaddingLeft=parseInt($(".toolbar").css("padding-left"),10);this.toolbarPadingRight=
parseInt($(".toolbar").css("padding-right"),10);this.fullscreenHeight=$(window).height()-this.TOOLBAR_HEIGHT;this.fullscreenWidth=$(window).width();c.css({position:"fixed",width:"100%",height:"100%",left:0,top:0,"z-index":this.VIDEO_FULLSCREEN_ZINDEX});a.resize(this.fullscreenWidth,this.fullscreenHeight);this.normalPlayerContainer=this.currentComponentSet.container;this.currentComponentSet.container=c;$(this.currentComponentSet.toolbar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:this.fullscreenWidth-
(this.toolbarPaddingLeft+this.toolbarPadingRight),position:"fixed",left:0,bottom:0});$(this.currentComponentSet.toolbar.volumeControl.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,position:"fixed",bottom:0});$(this.currentComponentSet.videobar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:"100%",position:"relative",left:0,bottom:0});this.currentComponentSet.videobar.setDimensions({height:this.fullscreenHeight,width:this.fullscreenWidth,fullscreen:!0});b=this.currentComponentSet.toolbar.getElements();
b.fullScreen.hide();b.leaveFullScreen.show();a.fullscreen=!0;setTimeout(function(){"PLAYING"===a.getState()&&a.play(!0)},this.VIDEO_REINITIALISE_TIME);this.currentViewMode="fullscreen"};
SSPlayerController.prototype.returnFromFullscreenForVideo=function(){this.currentComponentSet.slidedisplayer.container.removeClass("inPageFullscreen");var a=this.multimediaResource.videoPlayer,b=$(a.getContainer());$(b.parent()).css({position:"relative",height:this.normalPlayerHeight,width:this.normalPlayerWidth,"z-index":this.normalZindex,left:this.normalLeft,top:this.normalTop});a.resize(this.normalPlayerWidth,this.normalPlayerHeight);this.currentComponentSet.container=this.normalPlayerContainer;
b=this.currentComponentSet.toolbar.getElements();b.leaveFullScreen.hide();b.fullScreen.show();$(this.currentComponentSet.toolbar.container).css({position:"relative",height:this.TOOLBAR_HEIGHT,width:this.normalPlayerWidth-(this.toolbarPaddingLeft+this.toolbarPadingRight),"z-index":this.normalZindex,left:this.normalLeft,top:this.normalTop,bottom:0});$(this.currentComponentSet.toolbar.volumeControl.container).css({position:"relative","z-index":this.normalZindex});$(this.currentComponentSet.videobar.container).css({position:"relative",
height:this.MULTIMEDIABAR_HEIGHT,width:this.normalPlayerWidth,"z-index":this.normalZindex});this.currentComponentSet.videobar.setDimensions({height:this.normalPlayerHeight,width:this.normalPlayerWidth});a.fullscreen=!1;setTimeout(function(){"PLAYING"===a.getState()&&a.play(!0)},this.VIDEO_REINITIALISE_TIME);this.currentViewMode="normal"};SSPlayerController.prototype.isEmbedAndIE=function(){return isIEAllVersion&&"slideview"!==this.config.hosted_in};SSPlayerController.prototype.deactivateToolbar=function(){this.currentComponentSet.toolbar.deactivate()};
SSPlayerController.prototype.activateToolbar=function(){this.currentComponentSet.toolbar.activate()};SSPlayerController.prototype.isToolbarActive=function(){return this.currentComponentSet.toolbar.active};SSPlayerController.prototype.resizeVideoEmbeds=function(){if(this.currentComponentSet&&this.currentComponentSet.slidedisplayer&&this.currentComponentSet.slidedisplayer.container){var a=this.currentComponentSet.slidedisplayer.container,b=a.find(".ytube-container");0<b.length&&b.height(a.height())}};
SSPlayerController.prototype.isValidNextSlideshowExperiment=function(){return this.config.next_prev_experiment&&"presentation"===this.config.player_type};
SSPlayerController.prototype.showNextSlideshowCTA=function(){var a=this;if(this.config.next_prev_experiment&&$(".j-related-item a:visible").length&&!$(".j-next-container").is(":visible")){var b=$(".j-related-item a:visible").first(),b={id:b.data("ssid")||"0",thumb:b.find("img").attr("src")||"",title:b.attr("title")||"",url:b.attr("href")||"#",views:b.find(".j-related-views").html()||"0 views"};this.config.nextSlideshow=b;var c=this.currentComponentSet.container.find(".j-next-container"),d=c.find(".j-timer-count"),
e=2,f=function(){0===e&&(clearInterval(a.countDown),$.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),a.goToNextSlideshow());0<=e&&(d.html(e),e--)};c.find(".j-next-url").on("click",function(){$.slideshareEventManager.trackEvent("next_slideshow_cta_loaded");a.goToNextSlideshow()});c.find(".j-next-cancel").on("click",function(){a.hideNextSlideshowCTA()});$(".ssActions .j-tooltip").bind("click.cancel_next_slideshow",function(){a.hideNextSlideshowCTA()});c.length&&(c.find(".j-next-thumb").attr("src",
b.thumb),c.find(".j-next-title").html(b.title),c.find(".j-next-views").html(b.views),d.html(e+1),c.addClass("active"),this.countDown=setInterval(f,1E3),$.slideshareEventManager.trackEvent("next_slideshow_cta_opened"),$(document).bind("keyup.next_slideshow",$.proxy(a.nextSlideshowKeypressHandler,a)))}};SSPlayerController.prototype.nextSlideshowKeypressHandler=function(a){27===a.keyCode&&this.hideNextSlideshowCTA();13===a.keyCode&&($.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),this.goToNextSlideshow())};
SSPlayerController.prototype.goToNextSlideshow=function(){$.slideshareEventManager.trigger("updateNextSlideshowCookie",this.config.nextSlideshow.id);window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var a=!this.config.next_slideshow_pos?1:parseInt(this.config.next_slideshow_pos,10)+1;window.location.href=window.location.origin+this.config.nextSlideshow.url+"?next_slideshow="+a};
SSPlayerController.prototype.hideNextSlideshowCTA=function(){if($(".j-next-container").is(":visible")){$.slideshareEventManager.trackEvent("next_slideshow_cta_closed");clearInterval(this.countDown);var a=this.currentComponentSet.container.find(".j-next-container");a.removeClass("active");$(document).unbind("keyup.next_slideshow");$(".ssActions .j-tooltip").unbind("click.cancel_next_slideshow");a.find(".j-next-url, .j-next-cancel").unbind("click")}};
window.Modernizr=function(a,b,c){function d(a,b){for(var d in a)if(h[a[d]]!==c)return"pfx"==b?a[d]:!0;return!1}var e={},f=b.documentElement;b.head||b.getElementsByTagName("head");var g=b.createElement("modernizr"),h=g.style,k=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),g={},l=[],n=function(a,c,d,e){var g,h=b.createElement("div");if(parseInt(d,10))for(;d--;)g=b.createElement("div"),g.id=e?e[d]:"modernizr"+(d+1),h.appendChild(g);d=["&shy;<style>",a,"</style>"].join("");h.id="modernizr";h.innerHTML+=
d;f.appendChild(h);a=c(h,a);h.parentNode.removeChild(h);return!!a},j,r={}.hasOwnProperty,t;typeof r!==c&&typeof r.call!==c?t=function(a,b){return r.call(a,b)}:t=function(a,b){return b in a&&typeof a.constructor.prototype[b]===c};var q=[,"touch"],s=[,["@media (",k.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join("")].join(""),u=q.length;n(s,function(b){for(var b=b.childNodes,c={};u--;)c[b[u].id]=b[u];e.touch="ontouchstart"in a||9===c.touch.offsetTop},u,q);g.touch=function(){return e.touch};
g.csstransforms=function(){return!!d(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};for(var x in g)t(g,x)&&(j=x.toLowerCase(),e[j]=g[x](),l.push((e[j]?"":"no-")+j));h.cssText="";g=null;e._version="2.0.6";e._prefixes=k;e.testProp=function(a){return d([a])};e.testStyles=n;return e}(this,this.document);
var isMobile=function(){return navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|IEMobile|webOS|Mobile|Windows Phone/i)},isIEAllVersion=function(){var a=navigator.userAgent.toLowerCase(),b=navigator.appName.toLowerCase();return/msie/.test(a)&&!/opera/.test(a)||/trident/.test(a)&&"netscape"===b};
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&(Infinity!=d&&-Infinity!=d)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===a)return d;return-1});function SSPlayer(a){this.config=a;this._init()}
SSPlayer.prototype._init=function(){var a=isMobile();this.config.touch=a&&(Modernizr.touch||"Windows Phone"==a)&&!cookie("nomobile");$.slideshareEventManager.registerPlayer(this);this.controller="undefined"!==typeof new_mobile_player?new MobileNewPlayerController(this.config):new SSPlayerController(this.config);this.$playerContainer=$(this.config.container);var b=this,c=function(){if(b.config.show_image_player){var d=$(".stage"),e=$(".slide_container");if("presentation"===b.config.player_type||"webinar"===
b.config.player_type){var f=b.controller.currentPosition,g="ytube_video"===b.controller.slides[f].config.slideMode;d.css("height","auto");d.css("max-height","none");d.css("line-height","normal");d.removeClass("valign-first-slide");if(g){if("undefined"===typeof b.referenceSlideIndex)for(var h=b.controller.slides,k=1;k<=h.length;k++){var l=h[k];if("ytube_video"!==l.config.slideMode){b.referenceSlideIndex=l.index;break}}b.controller.currentComponentSet.slidedisplayer._scrollTo(b.referenceSlideIndex)}h=
d.height();d.css("height",h);d.css("max-height",h);d.css("line-height",h+"px");b.controller.setDimensions(!1,b.config.touch);g&&b.controller.currentComponentSet.slidedisplayer._scrollTo(f);f=$("#"+b.controller.config.container+" .slide").eq(f-1).children(".slide_image");"undefined"!==typeof f&&"undefined"!==typeof f[0]&&(d=d.width()/d.height(),f=f.naturalWidth()/f.naturalHeight(),d>f?(e.removeClass("wide_img"),e.addClass("tall_img")):(e.removeClass("tall_img"),e.addClass("wide_img")))}}else $.slideshareEventManager.trigger("repaint",
{mobile:b.config.touch});a&&"document"===b.config.player_type&&($(window).unbind("resize",c),setTimeout(function(){$(window).bind("resize",c)},1E3))};"undefined"===typeof new_mobile_player&&$(window).bind("load resize",c)};SSPlayer.prototype.play=function(a){this.controller.play(a||1)};SSPlayer.prototype.gotoCurrent=function(){this.controller.play(this.controller.currentPosition,!0)};
